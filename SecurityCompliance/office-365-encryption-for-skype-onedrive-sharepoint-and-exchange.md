---
title: Skype、OneDrive、SharePoint、および Exchange の office 365 の暗号化
ms.author: robmazz
author: robmazz
manager: laurawi
ms.date: 8/21/2018
audience: ITPro
ms.topic: article
ms.service: Office 365 Administration
localization_priority: None
search.appverid:
- MET150
ms.collection: Strat_O365_Enterprise
description: '概要: Skype、OneDrive、SharePoint、および Exchange のオンラインでの暗号化の説明です。'
ms.openlocfilehash: 5b839b8d290306f2334d3ca3278d0d5dac20a56f
ms.sourcegitcommit: 36c5466056cdef6ad2a8d9372f2bc009a30892bb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/27/2018
ms.locfileid: "22532161"
---
# <a name="office-365-encryption-for-skype-for-business-onedrive-for-business-sharepoint-online-and-exchange-online"></a><span data-ttu-id="8f9db-103">ビジネス、SharePoint のオンラインで、オンラインの Exchange のビジネス用の Skype、OneDrive の office 365 の暗号化</span><span class="sxs-lookup"><span data-stu-id="8f9db-103">Office 365 Encryption for Skype for Business, OneDrive for Business, SharePoint Online, and Exchange Online</span></span>

<span data-ttu-id="8f9db-104">Office 365 は、複数のレイヤーでの広範な保護を提供する高度なセキュリティ環境を: 物理的なデータ ・ センターのセキュリティ、ネットワーク セキュリティ、アクセス セキュリティ、アプリケーション セキュリティ、およびデータのセキュリティです。</span><span class="sxs-lookup"><span data-stu-id="8f9db-104">Office 365 is a highly secure environment that offers extensive protection in multiple layers: physical data center security, network security, access security, application security, and data security.</span></span>

## <a name="skype-for-business"></a><span data-ttu-id="8f9db-105">Skype for Business</span><span class="sxs-lookup"><span data-stu-id="8f9db-105">Skype for Business</span></span>
<span data-ttu-id="8f9db-p101">ファイルまたは会議の参加者がアップロードしたプレゼンテーションの残りの部分で Skype のビジネスの顧客データを格納できます。Web 会議サーバーは、256 ビット キーを使用して AES を使用して顧客データを暗号化します。暗号化された顧客データは、ファイル共有に格納されます。個々 の顧客データは、別のランダムに生成された 256 ビット キーを使用して暗号化されます。会議での顧客データを共有すると、Web 会議サーバーは会議クライアントが HTTPS 経由で暗号化された顧客データをダウンロードするように指示します。顧客データの暗号化を解除できるように、対応するキーをクライアントに送信します。Web 会議サーバーは、割り当てることができる、会議の顧客データにアクセスする前にも会議クライアントを認証します。Web 会議への参加、会議の各クライアントは TLS 経由で最初にフロント エンド サーバーの内部実行会議フォーカス コンポーネントを使用して SIP ダイアログを確立します。会議フォーカスでは、Web 会議サーバーによって生成される認証 cookie を会議クライアントに渡されます。会議クライアントでは、サーバーが認証する認証 cookie を表示する Web 会議サーバーに接続されます。</span><span class="sxs-lookup"><span data-stu-id="8f9db-p101">Skype for Business customer data may be stored at rest in the form of files or presentations that are uploaded by meeting participants. The Web Conferencing server encrypts customer data using AES with a 256-bit key. The encrypted customer data is stored on a file share. Each piece of customer data is encrypted using a different randomly generated 256-bit key. When a piece of customer data is shared in a conference, the Web Conferencing server instructs the conferencing clients to download the encrypted customer data via HTTPS. It sends the corresponding key to clients so that the customer data can be decrypted. The Web Conferencing server also authenticates conferencing clients before it allows the clients access to conference customer data. When joining a Web conference, each conferencing client establishes a SIP dialog with the conferencing focus component running inside the front-end server over TLS first. The conferencing focus passes to the conference client an authentication cookie generated by the Web Conferencing server. The conferencing client then connects to the Web Conferencing server presenting the authentication cookie to be authenticated by the server.</span></span>

## <a name="sharepoint-online-and-onedrive-for-business"></a><span data-ttu-id="8f9db-116">Sharepoint Online と OneDrive for Business</span><span class="sxs-lookup"><span data-stu-id="8f9db-116">SharePoint Online and OneDrive for Business</span></span>
<span data-ttu-id="8f9db-p102">SharePoint Online の顧客のすべてのファイルは、単一のテナントに排他的では常に、一意のファイルごとのキーによって保護されます。キーが作成し、SharePoint のオンライン サービスによって管理されているまたは顧客キーを使用すると作成され、お客様が管理します。ファイルがアップロードされると、暗号化が実行 SharePoint Online のアップロード要求のコンテキスト内で Azure ストレージに送信される前にします。ファイルがダウンロードされると、SharePoint Online を取得 Azure ストレージからのデータは、ドキュメントの一意の識別子に基づいており、ユーザーに送信する前に顧客データを復号化、暗号化されたお客様です。Azure ストレージには、暗号化を解除すると、識別またはでも顧客データを理解する能力がないです。Azure Active Directory は、SharePoint Online は、テナントの分離が設定されている同じシステムのすべての暗号化と復号化が行われます。</span><span class="sxs-lookup"><span data-stu-id="8f9db-p102">All customer files in SharePoint Online are protected by unique, per-file keys that are always exclusive to a single tenant. The keys are either created and managed by the SharePoint Online service, or when Customer Key is used, created and managed by customers. When a file is uploaded, encryption is performed by SharePoint Online within the context of the upload request, before being sent to Azure storage. When a file is downloaded, SharePoint Online retrieves the encrypted customer data from Azure storage based on the unique document identifier and decrypts the customer data before sending it to the user. Azure storage has no ability to decrypt, or even identify or understand the customer data. All encryption and decryption happen in the same systems that enforce tenant isolation, which are Azure Active Directory and SharePoint Online.</span></span>

<span data-ttu-id="8f9db-p103">Office 365 のいくつかのワークロードでは、SharePoint Online とのビジネスで、SharePoint Online を使用して、その記憶域の OneDrive のすべてのファイルが格納されているマイクロソフトのチームを含む SharePoint online、データを格納します。SharePoint Online に保存されているすべての顧客データが (1 つまたは複数の AES の 256 ビット キー) を使用して暗号化し、データ ・ センターに次のように分散します。(この暗号化プロセスの各ステップは、FIPS の 140-2 レベル 2 の検証です。FIPS 140-2 準拠の詳細については、参照[FIPS 140-2 準拠](https://docs.microsoft.com/previous-versions/sql/sql-server-2008-r2/bb326611(v=sql.105)))。</span><span class="sxs-lookup"><span data-stu-id="8f9db-p103">Several workloads in Office 365 store data in SharePoint Online, including Microsoft Teams, which stores all files in SharePoint Online, and OneDrive for Business, which uses SharePoint Online for its storage. All customer data stored in SharePoint Online is encrypted (with one or more AES 256-bit keys) and distributed across the datacenter as follows. (Every step of this encryption process is FIPS 140-2 Level 2 validated. For additional information about FIPS 140-2 compliance, see [FIPS 140-2 Compliance](https://docs.microsoft.com/previous-versions/sql/sql-server-2008-r2/bb326611(v=sql.105)).)</span></span>
- <span data-ttu-id="8f9db-p104">各ファイルは、ファイルのサイズによって、1 つまたは複数のチャンクに分割されます。各チャンクは、それぞれ固有の AES の 256 ビット キーを使用して暗号化されます。</span><span class="sxs-lookup"><span data-stu-id="8f9db-p104">Each file is split into one or more chunks, depending on file size. Each chunk is encrypted using its own unique AES 256-bit key.</span></span>
- <span data-ttu-id="8f9db-129">同じ方法で更新が処理されるファイルを更新する場合: 変更は、1 つまたは複数のチャンクに分割し、各チャンクは、別の一意なキーで暗号化されました。</span><span class="sxs-lookup"><span data-stu-id="8f9db-129">When a file is updated, the update is handled in the same way: the change is split into one or more chunks, and each chunk is encrypted with a separate unique key.</span></span>
- <span data-ttu-id="8f9db-130">-ファイル、ファイル、および更新のデルタの-これらのチャンクは、複数の Azure ストレージ アカウントにランダムに分散された Azure ストレージの blob として保存されます。</span><span class="sxs-lookup"><span data-stu-id="8f9db-130">These chunks – files, pieces of files, and update deltas – are stored as blobs in Azure storage that are randomly distributed across multiple Azure storage accounts.</span></span> 
- <span data-ttu-id="8f9db-131">暗号化自体は、これらのチャンクの顧客データの暗号化キーのセットです。</span><span class="sxs-lookup"><span data-stu-id="8f9db-131">The set of encryption keys for these chunks of customer data is itself encrypted.</span></span>
   - <span data-ttu-id="8f9db-132">Blob の暗号化に使用するキーは、オンライン コンテンツの SharePoint データベースに格納されます。</span><span class="sxs-lookup"><span data-stu-id="8f9db-132">The keys used to encrypt the blobs are stored in the SharePoint Online Content Database.</span></span>
   - <span data-ttu-id="8f9db-p105">コンテンツ データベースは、データベース アクセスの制御と残りの部分での暗号化によって保護されています。[Azure の SQL データベース](https://docs.microsoft.com/azure/sql-database/sql-database-technical-overview)に[透過的なデータ暗号化](https://docs.microsoft.com/sql/relational-databases/security/encryption/transparent-data-encryption-tde)(TDE) を使用して暗号化が実行されます。(Azure の SQL データベースとは、リレーショナル データ、JSON、空間、XML などの構造体をサポートしている Microsoft Azure 内のリレーショナル データベースの汎用的なサービスのことです)。これらの機密情報は、SharePoint online テナントのレベルではなくサービス ・ レベルでは。(マスター_キーとも呼ばれる) これらの機密情報は、キー ストアと呼ばれる別のセキュリティで保護されたリポジトリに格納されます。TDE は、アクティブなデータベースとデータベースのバックアップとトランザクション ・ ログの両方のためにセキュリティを提供します。</span><span class="sxs-lookup"><span data-stu-id="8f9db-p105">The Content Database is protected by database access controls and encryption at rest. Encryption is performed using [Transparent Data Encryption](https://docs.microsoft.com/sql/relational-databases/security/encryption/transparent-data-encryption-tde) (TDE) in [Azure SQL Database](https://docs.microsoft.com/azure/sql-database/sql-database-technical-overview). (Azure SQL Database is a general-purpose relational database service in Microsoft Azure that supports structures such as relational data, JSON, spatial, and XML.) These secrets are at the service level for SharePoint Online, not at the tenant level. These secrets (sometimes referred to as the master keys) are stored in a separate secure repository called the Key Store. TDE provides security at rest for both the active database and the database backups and transaction logs.</span></span> 
   - <span data-ttu-id="8f9db-p106">お客様は、オプションのキーを提供して Azure キーの保管場所に顧客のキーが格納されているサービスは、ファイル レベルのキーの暗号化に使用し、サイトのキーの暗号化に使用される、テナントのキーを暗号化するキーを使用します。基本的には、お客様がキーを提供するときに新しいキーの階層構造が導入されています。</span><span class="sxs-lookup"><span data-stu-id="8f9db-p106">When customers provide the optional key, the customer key is stored in Azure Key Vault, and the service uses the key to encrypt a tenant key, which is used to encrypt a site key, which is then used to encrypt the file level keys. Essentially, a new key hierarchy is introduced when the customer provides a key.</span></span>
- <span data-ttu-id="8f9db-140">ファイルを再構築するために使用するマップは、それらを復号化に必要なマスター_キーから個別に、暗号化されたキーとコンテンツ データベースに格納されます。</span><span class="sxs-lookup"><span data-stu-id="8f9db-140">The map used to re-assemble the file is stored in the Content Database along with the encrypted keys, separately from the master key needed to decrypt them.</span></span>
- <span data-ttu-id="8f9db-p107">各 Azure ストレージ アカウントには、独自のアクセスの種類 (読み取り、書き込み、列挙、および削除) ごとの一意な資格情報があります。資格情報のセットごとでは、セキュリティで保護されたキー ストアに保持されているし、は定期的に更新。前述したように、ストアは、それぞれ独自の機能の 3 つのさまざまな種類があります。</span><span class="sxs-lookup"><span data-stu-id="8f9db-p107">Each Azure storage account has its own unique credentials per access type (read, write, enumerate, and delete). Each set of credentials is held in the secure Key Store and is regularly refreshed. As described above, there are three different types of stores, each with a distinct function:</span></span>
- <span data-ttu-id="8f9db-p108">顧客データは、Azure ストレージに暗号化された blob として保存されます。顧客データのチャンクごとにキーが暗号化され、コンテンツ データベースに個別に格納されます。顧客データ自体は解読できる方法についての手掛かりを保持していません。</span><span class="sxs-lookup"><span data-stu-id="8f9db-p108">Customer data is stored as encrypted blobs in Azure storage. The key to each chunk of customer data is encrypted and stored separately in the Content Database. The customer data itself holds no clue as to how it can be decrypted.</span></span>
- <span data-ttu-id="8f9db-p109">コンテンツ データベースは、SQL Server データベースです。探し、その blob の暗号化に必要なキーだけでなく、Azure ストレージに保持されている blob には、顧客データを再構成するために必要なマップを保持します。ただし、キーのセット自体は、(前述のように) を暗号化し、別のキー ストアに保持されています。</span><span class="sxs-lookup"><span data-stu-id="8f9db-p109">The Content Database is a SQL Server database. It holds the map required to locate and reassemble the customer data blobs held in Azure storage as well as the keys needed to encrypt those blobs. However, the set of keys is itself encrypted (as explained above) and held in a separate Key Store.</span></span>
- <span data-ttu-id="8f9db-p110">キー ストアは、コンテンツ データベースと Azure のストレージから物理的に独立しました。各 Azure ストレージ コンテナーと、マスター_キーの資格情報をコンテンツ データベースに保持されている暗号化のキーのセットを保持します。</span><span class="sxs-lookup"><span data-stu-id="8f9db-p110">The Key Store is physically separate from the Content Database and Azure storage. It holds the credentials for each Azure storage container and the master key to the set of encrypted keys held in the Content Database.</span></span>

<span data-ttu-id="8f9db-p111">– Azure のブロブ ストア、コンテンツ データベース、およびキー ストア: これら 3 つのストレージ ・ コンポーネントの各機能は、物理的に分離されています。コンポーネントのいずれかに保持されている情報はそれ自体で使用可能ではありません。3 つすべてにアクセスできなければ、チャンクへのキーを取得、使用できるように、キーを対応するチャンクに関連付け、各チャンクが、復号化、またはその構成要素であるチャンクからドキュメントを再構築するためのキーを復号化することはできません。</span><span class="sxs-lookup"><span data-stu-id="8f9db-p111">Each of these three storage components – the Azure blob store, the Content Database, and the Key Store – is physically separate. The information held in any one of the components is unusable on its own. Without access to all three, it is impossible to retrieve the keys to the chunks, decrypt the keys to make them usable, associate the keys with their corresponding chunks, decrypt each chunk, or reconstruct a document from its constituent chunks.</span></span>

<span data-ttu-id="8f9db-155">データ センター内のコンピューター上の物理ディスク ボリュームを保護するには、BitLocker の証明書は、ファームのキーによって保護されているセキュリティで保護されたリポジトリ (SharePoint Online の秘密ストア) に格納されます。</span><span class="sxs-lookup"><span data-stu-id="8f9db-155">BitLocker certificates, which protect the physical disk volumes on machines in the datacenter, are stored in a secure repository (the SharePoint Online secret store) that is protected by the Farm key.</span></span>

<span data-ttu-id="8f9db-156">TDE キー blob ごとのキーを保護するには、2 つの場所に格納されます。</span><span class="sxs-lookup"><span data-stu-id="8f9db-156">The TDE keys that protect the per-blob keys are stored in two locations:</span></span>
- <span data-ttu-id="8f9db-157">BitLocker 証明書を格納し、ファームのキーによって保護されている、セキュリティで保護されたリポジトリそして</span><span class="sxs-lookup"><span data-stu-id="8f9db-157">The secure repository, which houses the BitLocker certificates and is protected by the Farm Key; and</span></span>
- <span data-ttu-id="8f9db-158">Azure の SQL データベースで管理されているセキュリティで保護されたリポジトリです。</span><span class="sxs-lookup"><span data-stu-id="8f9db-158">In a secure repository managed by Azure SQL Database.</span></span>

<span data-ttu-id="8f9db-p112">Azure ストレージのコンテナーにアクセスするために使用する資格情報は、SharePoint Online のシークレットを格納し、必要に応じて各 SharePoint Online のファームに委任も保持されます。これらの資格情報とは、Azure ストレージ SAS の署名がデータを読み出したり書き込んだりするために使用する別の資格情報と、自動の期限が切れる 60 日おきにするために適用されるポリシーです。(両方ではなく) データの読み書きに別の資格情報を使用し、オンラインの SharePoint ファームでは列挙するためのアクセス許可は表示されません。</span><span class="sxs-lookup"><span data-stu-id="8f9db-p112">The credentials used to access the Azure storage containers are also held in the SharePoint Online secret store and delegated to each SharePoint Online farm as needed. These credentials are Azure storage SAS signatures, with separate credentials used to read or write data, and with policy applied so that they auto-expire every 60 days. Different credentials are used to read or write data (not both) and SharePoint Online farms are not given permissions to enumerate.</span></span>

> <span data-ttu-id="8f9db-p113">注 Office 365 米国政府の顧客、blob データは、Azure の米国政府の記憶域に格納されます。さらに、Office 365 の米国政府の SharePoint Online のキーへのアクセスは、具体的に選別されている Office 365 のスタッフに限定します。Azure の米国政府の運用スタッフは、blob データの暗号化に使用する SharePoint Online のキー ストアにアクセスを必要はありません。</span><span class="sxs-lookup"><span data-stu-id="8f9db-p113">NOTE For Office 365 U.S. Government customers, data blobs are stored in Azure U.S. Government Storage. In addition, access to SharePoint Online keys in Office 365 U.S. Government is limited to Office 365 staff that have been specifically screened. Azure U.S. Government operations staff do not have access to the SharePoint Online key store that is used for encrypting data blobs.</span></span>

<span data-ttu-id="8f9db-165">SharePoint Online およびビジネスのための OneDrive でのデータの暗号化の詳細については、[ビジネスおよび SharePoint Online の OneDrive でのデータの暗号化](https://technet.microsoft.com/en-us/library/dn905447.aspx)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8f9db-165">For more information about data encryption in SharePoint Online and OneDrive for Business, see [Data Encryption in OneDrive for Business and SharePoint Online](https://technet.microsoft.com/en-us/library/dn905447.aspx).</span></span>

### <a name="list-items-in-sharepoint-online"></a><span data-ttu-id="8f9db-166">オンラインの SharePoint のリスト項目</span><span class="sxs-lookup"><span data-stu-id="8f9db-166">List Items in SharePoint Online</span></span>
<span data-ttu-id="8f9db-p114">リスト アイテムは、またはアドホックに作成されたデータは、ユーザーが作成したリスト内の行、SharePoint Online のブログまたは wiki ページを SharePoint Online 内のエントリ内の個々 の投稿など、サイト内で動的にライブできますお客様のより小さいチャンクです。リスト アイテムがコンテンツ データベース (Azure SQL データベース) に格納されているし、TDE で保護されています。</span><span class="sxs-lookup"><span data-stu-id="8f9db-p114">List Items are smaller chunks of customer data that are created ad-hoc or that can live more dynamically within a site, such as rows in a user-created list, individual posts in a SharePoint Online blog, or entries within a SharePoint Online wiki page. List items are stored in the Content Database (Azure SQL Database) and protected with TDE.</span></span>

## <a name="encryption-of-data-in-transit"></a><span data-ttu-id="8f9db-169">転送中データの暗号化</span><span class="sxs-lookup"><span data-stu-id="8f9db-169">Encryption of data in transit</span></span>
<span data-ttu-id="8f9db-170">OneDrive for Business および SharePoint Online では、データを入力し、データセンターを終了する 2 つのシナリオがあります。</span><span class="sxs-lookup"><span data-stu-id="8f9db-170">In OneDrive for Business and SharePoint Online, there are two scenarios in which data enters and exits the datacenters.</span></span>
- <span data-ttu-id="8f9db-p115">**クライアントとサーバーとの通信**をインターネット経由でビジネスのための OneDrive への通信では、SSL や TLS 接続を使用します。すべての SSL 接続を確立するには、2048 ビットのキーを使用します。</span><span class="sxs-lookup"><span data-stu-id="8f9db-p115">**Client communication with the server** - Communication to OneDrive for Business across the Internet uses SSL/TLS connections. All SSL connections are established using 2048-bit keys.</span></span>
- <span data-ttu-id="8f9db-p116">**データ センター間のデータ移動**データ センター間でデータを移動する主な理由は、geo ・ レプリケーションにより、災害復旧用です。たとえば、SQL Server トランザクション ・ ログと blob ストレージのデルタは、このパイプに沿って移動します。このデータは既にプライベート ネットワークを使用して転送される、クラス最高レベルの暗号化をさらに保護されています。</span><span class="sxs-lookup"><span data-stu-id="8f9db-p116">**Data movement between datacenters** - The primary reason to move data between datacenters is for geo-replication to enable disaster recovery. For instance, SQL Server transaction logs and blob storage deltas travel along this pipe. While this data is already transmitted by using a private network, it is further protected with best-in-class encryption.</span></span>


## <a name="exchange-online"></a><span data-ttu-id="8f9db-176">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="8f9db-176">Exchange Online</span></span>
<span data-ttu-id="8f9db-p117">Exchange Online を使用して、BitLocker のすべてのメールボックス データと、 [BitLocker 暗号化のため](office-365-bitlocker-and-distributed-key-manager-for-encryption.md)に、BitLocker の構成が記載されています。サービス ・ レベルの暗号化では、メールボックス レベルでのすべてのメールボックス データを暗号化します。</span><span class="sxs-lookup"><span data-stu-id="8f9db-p117">Exchange Online uses BitLocker for all mailbox data, and the BitLocker configuration is described in [BitLocker for Encryption](office-365-bitlocker-and-distributed-key-manager-for-encryption.md). Service-level encryption encrypts all mailbox data at the mailbox level.</span></span> 

<span data-ttu-id="8f9db-p118">だけでなく、サービスの暗号化は、Office 365 は、お客様のキーは、暗号化サービス上に構築されたをサポートします。顧客キーは、Microsoft 管理オプションもマイクロソフトのロードマップに含まれている Exchange Online のサービスの暗号化のためです。この暗号化方式には、(内のデータを直接暗号化が適用されるため、サーバー管理者と、データの復号化に必要な暗号化キーの分離を提供するために BitLocker でない提供される保護の強化が用意されています。論理ディスク ボリュームの暗号化を適用するには、BitLocker を使用してコントラスト) のお客様の Exchange サーバーからコピーしたデータは暗号化されたままです。</span><span class="sxs-lookup"><span data-stu-id="8f9db-p118">In addition to service-encryption, Office 365 supports Customer Key, which is built on top of service-encryption. Customer Key is a Microsoft-managed key option for Exchange Online service encryption that is also on Microsoft's roadmap. This method of encryption provides increased protection not afforded by BitLocker because it provides separation of server administrators and the cryptographic keys necessary for decryption of data, and because the encryption is applied directly to the data (in contrast with BitLocker, which applies encryption at the logical disk volume) any customer data copied from an Exchange server remains encrypted.</span></span>

<span data-ttu-id="8f9db-p119">Exchange のオンライン サービスの暗号化のスコープは、Exchange Online 内で残りの部分に格納されている顧客データです。(Skype ビジネスのほぼすべてユーザー生成コンテンツをユーザーの Exchange Online のメールボックス内に格納し、そのため Exchange Online のサービスの暗号化機能を継承)</span><span class="sxs-lookup"><span data-stu-id="8f9db-p119">The scope for Exchange Online service encryption is customer data that is stored at rest within Exchange Online. (Skype for Business stores nearly all user-generated content within the user’s Exchange Online mailbox and therefore inherits the service encryption feature of Exchange Online.)</span></span>
