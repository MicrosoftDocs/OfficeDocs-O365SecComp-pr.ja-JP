---
title: Office 365 がサービス拒否攻撃に対してクラウドサービスを防御する
ms.author: robmazz
author: robmazz
manager: laurawi
ms.date: 8/21/2018
audience: ITPro
ms.topic: article
ms.service: Office 365 Administration
localization_priority: None
search.appverid:
- MET150
ms.collection:
- Strat_O365_IP
- M365-security-compliance
description: サービス拒否 (DoS) 攻撃に対する Microsoft のクラウドサービスの防御方法。
ms.openlocfilehash: 64a99347e22612bba2035092764ed3714b596228
ms.sourcegitcommit: c94cb88a9ce5bcc2d3c558f0fcc648519cc264a2
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/20/2019
ms.locfileid: "30090999"
---
# <a name="defending-microsoft-cloud-services-against-denial-of-service-attacks"></a><span data-ttu-id="f441f-103">サービス拒否攻撃に対する Microsoft クラウドサービスの防御</span><span class="sxs-lookup"><span data-stu-id="f441f-103">Defending Microsoft Cloud Services Against Denial-of-Service Attacks</span></span>

## <a name="introduction"></a><span data-ttu-id="f441f-104">概要</span><span class="sxs-lookup"><span data-stu-id="f441f-104">Introduction</span></span>
<span data-ttu-id="f441f-p101">Microsoft データセンターは、境界線フェンス、ビデオカメラ、セキュリティ担当者、およびバイオメトリクス、スマートカード、多要素認証を使用する安全な入り口を含む多層防御セキュリティによって保護されています。多層防御セキュリティは、施設のすべての領域および各物理サーバーユニットに対して続行されます。[Microsoft クラウドインフラストラクチャと運用グループ](https://www.microsoft.com/en-us/cloud-platform/global-datacenters)は、クラウドサービスのコアインフラストラクチャと基本的なテクノロジを提供します。データセンターは、物理的なセキュリティと信頼性の業界標準に準拠しており、Microsoft の運用担当者が管理、監視、管理します。</span><span class="sxs-lookup"><span data-stu-id="f441f-p101">Microsoft datacenters are protected by defense-in-depth security that includes perimeter fencing, video cameras, security personnel, and secure entrances that use biometrics, smartcard, and multi-factor authentication. The defense-in-depth security continues through every area of the facility and to each physical server unit. The [Microsoft Cloud Infrastructure and Operations Group](https://www.microsoft.com/en-us/cloud-platform/global-datacenters) delivers the core infrastructure and foundational technologies for our cloud services. Our datacenters comply with industry standards for physical security and reliability and are managed, monitored, and administered by Microsoft operations personnel.</span></span>

<span data-ttu-id="f441f-p102">クラウドサービスをさらに保護するために、microsoft は、microsoft Azure の継続的監視およびペネトレーションテストプロセスの一部である DDoS 防御システムを提供しています。azure DDoS 防御システムは、外部からの攻撃に耐えられるだけでなく、他の azure テナントからも攻撃されるように設計されています。Azure は、SYN cookie、レート制限、接続制限などの標準的な検出と軽減の手法を使用して、DDoS 攻撃を防止します。</span><span class="sxs-lookup"><span data-stu-id="f441f-p102">To further protect our cloud services, Microsoft provides a DDoS defense system that is part of the Microsoft Azure continuous monitoring and penetration-testing processes. The Azure DDoS defense system is designed not only to withstand attacks from the outside, but also from other Azure tenants. Azure uses standard detection and mitigation techniques such as SYN cookies, rate limiting, and connection limits to protect against DDoS attacks.</span></span>

<span data-ttu-id="f441f-p103">Microsoft のクラウドサービスは、複数のソースからの攻撃の脅威の対象となります。さまざまな dos 脅威を緩和および保護するために、高度に拡張可能な Azure ベースの脅威検出と軽減システムが開発および実装され、基盤となるインフラストラクチャを dos 攻撃から保護することが主な目的になっています。また、クラウドサービスのお客様に対するサービスの中断を防ぐために役立ちます。Azure DoS 緩和システムは、受信、送信、および地域間トラフィックを保護します。</span><span class="sxs-lookup"><span data-stu-id="f441f-p103">Microsoft's cloud services are subject to the threat of attack from multiple sources. To mitigate and protect against the various DoS threats, a highly-scalable and dynamic Azure-based threat detection and mitigation system has been developed and implemented with the primary objective of protecting the underlying infrastructure from DoS attacks and helping to prevent service interruptions for cloud services customers. The Azure DoS mitigation system protects inbound, outbound, and region-to-region traffic.</span></span>

<span data-ttu-id="f441f-p104">通常、[オープンシステム相互](https://docs.microsoft.com/windows-hardware/drivers/network/windows-network-architecture-and-the-osi-model)接続 (OSI) モデルのネットワーク (L3) 層とトランスポート (L4) 層のターゲットに対して起動された DoS 攻撃。L3 および L4 レイヤーに対する攻撃は、ネットワークインターフェイスまたはサービスを大量のリソースへの攻撃トラフィックであふれ、正当なトラフィックへの対応を拒否することを目的としています。具体的には、L3 および L4 攻撃は、ネットワークリンク、デバイス、またはサービスの容量を飽和させたり、アプリケーションをサポートするサーバーまたは仮想マシンの cpu を過負荷にしたりします。</span><span class="sxs-lookup"><span data-stu-id="f441f-p104">Most DoS attacks launched against targets at the Network (L3) and Transport (L4) layers of the [Open Systems Interconnection](https://docs.microsoft.com/windows-hardware/drivers/network/windows-network-architecture-and-the-osi-model) (OSI) model. Attacks directed at the L3 and L4 layers are designed to flood a network interface or service with attack traffic to overwhelm resources and deny the ability to respond to legitimate traffic. Specifically, L3 and L4 attacks attempt to either saturate the capacity of network links, devices, or services or overwhelm the CPUs of servers or virtual machines supporting an application.</span></span>

<span data-ttu-id="f441f-p105">L3 および L4 攻撃を防止するために、Microsoft では、これらのレイヤーを保護することによって、攻撃を受けたインフラストラクチャと顧客の目標を保護することを目的としたソリューションを設計、開発、および展開しています。インフラストラクチャを保護することで、1人のお客様の攻撃トラフィックが、その他のお客様にとっての損害やサービスの品質低下につながることがなくなります。ソリューションは、データセンタールーターからのトラフィックサンプリングデータを使用します。このデータは、ネットワーク監視サービスによって分析され、攻撃を検出します。攻撃が検出されると、自動防御メカニズムが開始されます。</span><span class="sxs-lookup"><span data-stu-id="f441f-p105">To guard against L3 and L4 attacks Microsoft has designed, developed, and deployed a solution aimed specifically at safeguarding the infrastructure and customer targets that come under attack by protecting these layers. Protecting the infrastructure ensures that attack traffic intended for one customer does not result in collateral damage or diminished network quality of service for other customers. The solution uses traffic sampling data from datacenter routers. This data is analyzed by a network monitoring service to detect attacks. When an attack is detected, automated defense mechanisms kick in.</span></span>

## <a name="application-level-defenses"></a><span data-ttu-id="f441f-123">アプリケーションレベルの防御</span><span class="sxs-lookup"><span data-stu-id="f441f-123">Application-Level Defenses</span></span>
<span data-ttu-id="f441f-p106">microsoft のエンジニアリングチームは、お客様のデータを保護するために、 [microsoft 運用セキュリティアシュアランス](https://www.microsoft.com/en-us/SDL/OperationalSecurityAssurance)が設定した厳格な基準に従っています。Microsoft のクラウドサービスは、非常に高い負荷をサポートするように意図的に構築されており、アプリケーションレベルの DoS 攻撃を保護し、軽減します。一部のワークロードでは、複数のグローバルデータセンターにサービスが分散され、地域の分離と調整機能を備えた、スケールアウトされたアーキテクチャを実装しています。</span><span class="sxs-lookup"><span data-stu-id="f441f-p106">Microsoft engineering teams follow the rigorous standards set by [Microsoft Operational Security Assurance](https://www.microsoft.com/en-us/SDL/OperationalSecurityAssurance) to help protect customer data. Microsoft's cloud services are intentionally built to support a very high load as well as to protect and mitigate against application-level DoS attacks. We have implemented a scaled-out architecture where services are distributed across multiple global datacenters with regional isolation and throttling features in some of the workloads.</span></span>

<span data-ttu-id="f441f-p107">お客様の管理者がサービスの初期セットアップ中に特定するお客様の国または地域ごとに、お客様のデータのプライマリストレージの場所を決定します。お客様のデータは、プライマリ/バックアップ戦略に従って、冗長なデータセンター間でレプリケートされます。プライマリデータセンターは、ソフトウェアで実行されているすべての主要な顧客データと共に、アプリケーションソフトウェアをホストします。バックアップデータセンターは自動フェールオーバーを提供します。プライマリデータセンターが何らかの理由で機能しなくなると、要求はバックアップデータセンター内のソフトウェアおよび顧客データのコピーにリダイレクトされます。いずれの場合も、お客様のデータは、プライマリデータセンターまたはバックアップデータセンターのいずれかで処理されます。データを複数のデータセンターに分散すると、1つのデータセンターが攻撃を受けた場合に影響を受ける領域が減少します。さらに、影響を受けるデータセンターのサービスは、回復メカニズムの1つとしてセカンダリデータセンターに迅速にリダイレクトすることができます。また、その逆も同様です (サービスが復元されると、プライマリデータセンターにリダイレクトされます)。</span><span class="sxs-lookup"><span data-stu-id="f441f-p107">Each customer's country or region, which the customer's administrator identifies during the initial setup of the services, determines the primary storage location for that customer's data. Customer data is replicated between redundant datacenters according to a primary/backup strategy. A primary datacenter hosts the application software along with all the primary customer data running on the software. A backup datacenter provides automatic failover. If the primary datacenter ceases to function for any reason, requests will be redirected to the copy of the software and customer data in the backup datacenter. At any given time, customer data may be processed in either the primary or the backup datacenter. Distributing data across multiple datacenters reduces the affected surface area in case one datacenter is attacked. Furthermore, the services in the affected datacenter can be quickly redirected to the secondary datacenter as one of the recovery mechanisms, and vice versa (redirected back to the primary datacenter once service is restored).</span></span>

<span data-ttu-id="f441f-p108">個々のワークロードには、リソース使用率を管理する組み込みの機能が含まれています。たとえば、Exchange online と SharePoint online の調整メカニズムは、DoS 攻撃を防御する多層的なアプローチの一部です。exchange online ユーザーの調整は、エンドユーザーが消費するリソースのレベル、リソースが Active Directory、Exchange Online インフォメーションストア、またはその他の場所にあるかどうかに基づいて行います。ユーザーが消費するリソースを制限するために、各クライアントに予算が割り当てられます。ユーザーアクティビティおよびシステムコンポーネントの Exchange Online の調整は、[ワークロード管理](http://technet.microsoft.com/en-us/library/jj150503(v=exchg.150).aspx)に基づいています。exchange online のワークロードは、exchange online のシステムリソース管理の目的で明示的に定義されている exchange online の機能、プロトコル、またはサービスです。Exchange Online のワークロードごとに、CPU、メールボックスデータベース操作、または Active Directory 要求などのシステムリソースを使用して、ユーザー要求やバックグラウンド作業を実行する必要があります。exchange Online ワークロードの例としては、web 上の Outlook、Exchange ActiveSync、メールボックスの移行、メールボックスアシスタントなどがあります。テナント管理者は、exchange 管理シェルを使用して、ユーザーの exchange ワークロード管理調整設定を管理できます。exchange Online で実装されているさまざまな形式の調整があります。これには、PowerShell、exchange Web サービス、POP と IMAP、exchange ActiveSync、モバイルデバイス接続、受信者などが含まれます。オンプレミスの Exchange 展開の管理者は調整ポリシーを構成できますが、管理者は Exchange Online の調整ポリシーを構成することはできません。</span><span class="sxs-lookup"><span data-stu-id="f441f-p108">Individual workloads include built-in features that manage resource utilization. For example, the throttling mechanisms in Exchange Online and SharePoint Online are part of a multi-layered approach to defending against DoS attacks. Throttling for Exchange Online users is based on the level of resources consumed by the end user, whether the resources are in Active Directory, the Exchange Online information store, or elsewhere. A budget is allocated to each client to limit the resources consumed by a user. Exchange Online throttling for user activity and system components is based on [workload management](http://technet.microsoft.com/en-us/library/jj150503(v=exchg.150).aspx). An Exchange Online workload is an Exchange Online feature, protocol, or service which has been explicitly defined for the purposes of Exchange Online system resource management. Each Exchange Online workload requires system resources such as CPU, mailbox database operations, or Active Directory requests to perform user requests or background work. Examples of Exchange Online workloads include Outlook on the web, Exchange ActiveSync, mailbox migration, and mailbox assistants. Tenant administrators can manage Exchange workload management throttling settings for users with the Exchange Management Shell. There are various forms of throttling which have been implemented within Exchange Online, including PowerShell, Exchange Web Services, and POP and IMAP, Exchange ActiveSync, mobile device connections, recipients, and more. While administrators of on-premises Exchange deployments can configure throttling policies, Administrators cannot configure throttling policies for Exchange Online.</span></span>

<span data-ttu-id="f441f-p109">SharePoint Online で調整するための最も一般的なトリガーは、クライアント側オブジェクトモデル (csom) コードで、頻度が高すぎて実行される操作が多すぎます。csom では、1つの要求で多くのアクションを実行できます。これは、使用制限を超えてユーザー単位の調整が発生する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="f441f-p109">The most common trigger for throttling in SharePoint Online is client-side object model (CSOM) code that performs too many actions at too high a frequency. With CSOM, many actions can be performed with a single request, which can exceed usage limits and cause per-user throttling.</span></span>

<span data-ttu-id="f441f-p110">調整が発生する可能性のあるアクティビティに関係なく、ユーザーが利用制限を超えると、SharePoint Online はそのユーザーアカウントからのその他の要求 (通常は短時間) を抑制します。ユーザースロットルが有効になっている間、そのユーザーが実行したすべての操作は、次の条件に従ってスロットルの有効期限が切れるまで抑制されます。</span><span class="sxs-lookup"><span data-stu-id="f441f-p110">Regardless of the activity which might result in throttling, when a user exceeds usage limits, SharePoint Online throttles any further requests from that user account, usually for a short period of time. While a user throttle is in effect, all actions by that user are throttled until the throttle expires, according to the following criteria:</span></span>
- <span data-ttu-id="f441f-150">ユーザーが直接ブラウザーで実行する要求の場合、SharePoint Online は調整情報ページにリダイレクトし、要求は失敗します。</span><span class="sxs-lookup"><span data-stu-id="f441f-150">For requests performed by the user directly in a browser, SharePoint Online redirects to a throttling information page, and the requests fail.</span></span>
- <span data-ttu-id="f441f-151">その他すべての要求の場合 (csom 呼び出しを含む)、SharePoint Online は HTTP ステータスコード 429 ("要求が多すぎます") を返し、要求は失敗します。</span><span class="sxs-lookup"><span data-stu-id="f441f-151">For all other requests, including CSOM calls, SharePoint Online returns HTTP status code 429 ("too many requests"), and the requests fail.</span></span>

<span data-ttu-id="f441f-152">問題のあるプロセスが引き続き利用制限を超えた場合、SharePoint Online は完全にそのプロセスをブロックし、HTTP 状態コード 503 ("サービスは利用できません") を返します。</span><span class="sxs-lookup"><span data-stu-id="f441f-152">If the offending process continues to exceed usage limits, SharePoint Online may completely block the process and return HTTP status code 503 ("service unavailable").</span></span>

## <a name="vulnerability-and-penetration-testing"></a><span data-ttu-id="f441f-153">脆弱性およびペネトレーションテスト</span><span class="sxs-lookup"><span data-stu-id="f441f-153">Vulnerability and Penetration Testing</span></span>
<span data-ttu-id="f441f-154">Microsoft では、多くの[セキュリティテクノロジとプラクティス](https://www.microsoft.com/en-us/trustcenter/security/threatmanagement)を使用して、クラウドインフラストラクチャとオンプレミスネットワークを、クラウドサービス用のマルウェア対策コンポーネントおよびサービスを使用することを含む、高度で高度な脅威から[保護](https://blogs.technet.microsoft.com/hybridcloud/2015/05/05/protecting-your-datacenter-and-cloud-from-emerging-threats/)しています。マシン (vm)、その他のシステム。高度な脅威分析。ネットワーク、システム、ユーザーの通常の使用パターンを監視し、マシン学習を使用して、通常のすべての動作と、通常の侵入テストにフラグを設定します。</span><span class="sxs-lookup"><span data-stu-id="f441f-154">Microsoft uses many [security technologies and practices](https://www.microsoft.com/en-us/trustcenter/security/threatmanagement) to [protect its cloud infrastructure](https://blogs.technet.microsoft.com/hybridcloud/2015/05/05/protecting-your-datacenter-and-cloud-from-emerging-threats/) and on-premises networks against modern, sophisticated threats, including using antimalware components and services for cloud services, virtual machines (VMs), and other systems; Advanced Threat Analytics, which monitors normal usage patterns for networks, systems, and users, and employs machine learning to flag any behavior that is out of the ordinary, and regular penetration testing.</span></span>

<span data-ttu-id="f441f-p111">独自のペネトレーションテストを実行し、お客様に[Microsoft Cloud ユニファイドペネトレーションテストプログラム](https://technet.microsoft.com/en-us/mt784683)を提供するだけでなく、次のような一般的な脆弱性評価を実行するサードパーティのセキュリティ専門家と協力することもあります。クラウドサービスに対するペネトレーションテスト。このようなサードパーティの脆弱性評価からのレポートは、[サービス信頼](https://aka.ms/STP)と[サービス保証](https://aka.ms/ServiceAssurance)ポータルからダウンロードできます。</span><span class="sxs-lookup"><span data-stu-id="f441f-p111">In addition to performing our own penetration tests and offering to our customers a [Microsoft Cloud Unified Penetration Testing program](https://technet.microsoft.com/en-us/mt784683), we also engage with third-party security professionals who perform regular vulnerability assessments of and penetration testing against our cloud services. We make the reports from these third-party vulnerability assessments available for download from the [Service Trust](https://aka.ms/STP) and the [Service Assurance](https://aka.ms/ServiceAssurance) portals.</span></span>
