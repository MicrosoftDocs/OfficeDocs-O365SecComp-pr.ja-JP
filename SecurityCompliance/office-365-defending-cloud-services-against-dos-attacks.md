---
title: Office 365 がサービス拒否攻撃に対してクラウドサービスを防御する
ms.author: robmazz
author: robmazz
manager: laurawi
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
search.appverid:
- MET150
ms.collection:
- Strat_O365_IP
- M365-security-compliance
description: サービス拒否 (DoS) 攻撃に対する Microsoft のクラウドサービスの防御方法。
ms.openlocfilehash: 932e5a4d206a9d91c81e868e353259db954a2452
ms.sourcegitcommit: f0d23e57b00f07cef5b1b2d366eaeeeacda37e3e
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/18/2019
ms.locfileid: "35786692"
---
# <a name="defending-microsoft-cloud-services-against-denial-of-service-attacks"></a><span data-ttu-id="984d6-103">サービス拒否攻撃に対する Microsoft クラウドサービスの防御</span><span class="sxs-lookup"><span data-stu-id="984d6-103">Defending Microsoft Cloud Services Against Denial-of-Service Attacks</span></span>

## <a name="introduction"></a><span data-ttu-id="984d6-104">はじめに</span><span class="sxs-lookup"><span data-stu-id="984d6-104">Introduction</span></span>
<span data-ttu-id="984d6-105">Microsoft データセンターは、境界線フェンス、ビデオカメラ、セキュリティ担当者、およびバイオメトリクス、スマートカード、多要素認証を使用する安全な入り口を含む多層防御セキュリティによって保護されています。</span><span class="sxs-lookup"><span data-stu-id="984d6-105">Microsoft datacenters are protected by defense-in-depth security that includes perimeter fencing, video cameras, security personnel, and secure entrances that use biometrics, smartcard, and multi-factor authentication.</span></span> <span data-ttu-id="984d6-106">多層防御セキュリティは、施設のすべての領域および各物理サーバーユニットに対して続行されます。</span><span class="sxs-lookup"><span data-stu-id="984d6-106">The defense-in-depth security continues through every area of the facility and to each physical server unit.</span></span> <span data-ttu-id="984d6-107">[Microsoft クラウドインフラストラクチャと運用グループ](https://www.microsoft.com/en-us/cloud-platform/global-datacenters)は、クラウドサービスのコアインフラストラクチャと基本的なテクノロジを提供します。</span><span class="sxs-lookup"><span data-stu-id="984d6-107">The [Microsoft Cloud Infrastructure and Operations Group](https://www.microsoft.com/en-us/cloud-platform/global-datacenters) delivers the core infrastructure and foundational technologies for our cloud services.</span></span> <span data-ttu-id="984d6-108">データセンターは、物理的なセキュリティと信頼性の業界標準に準拠しており、Microsoft の運用担当者が管理、監視、管理します。</span><span class="sxs-lookup"><span data-stu-id="984d6-108">Our datacenters comply with industry standards for physical security and reliability and are managed, monitored, and administered by Microsoft operations personnel.</span></span>

<span data-ttu-id="984d6-109">クラウドサービスをさらに保護するために、Microsoft は、Microsoft Azure の継続的監視およびペネトレーションテストプロセスの一部である DDoS 防御システムを提供しています。</span><span class="sxs-lookup"><span data-stu-id="984d6-109">To further protect our cloud services, Microsoft provides a DDoS defense system that is part of the Microsoft Azure continuous monitoring and penetration-testing processes.</span></span> <span data-ttu-id="984d6-110">Azure DDoS 防御システムは、外部からの攻撃に耐えられるだけでなく、他の Azure テナントからも攻撃されるように設計されています。</span><span class="sxs-lookup"><span data-stu-id="984d6-110">The Azure DDoS defense system is designed not only to withstand attacks from the outside, but also from other Azure tenants.</span></span> <span data-ttu-id="984d6-111">Azure は、SYN cookie、レート制限、接続制限などの標準的な検出と軽減の手法を使用して、DDoS 攻撃を防止します。</span><span class="sxs-lookup"><span data-stu-id="984d6-111">Azure uses standard detection and mitigation techniques such as SYN cookies, rate limiting, and connection limits to protect against DDoS attacks.</span></span>

<span data-ttu-id="984d6-112">Microsoft のクラウドサービスは、複数のソースからの攻撃の脅威の対象となります。</span><span class="sxs-lookup"><span data-stu-id="984d6-112">Microsoft's cloud services are subject to the threat of attack from multiple sources.</span></span> <span data-ttu-id="984d6-113">さまざまな DoS の脅威を軽減および保護するために、高度に拡張可能な Azure ベースの脅威検出と軽減システムが開発され、DoS から基盤を保護する主要な目的で実装されています。クラウドサービスのお客様に対するサービスの中断を防止する攻撃および支援。</span><span class="sxs-lookup"><span data-stu-id="984d6-113">To mitigate and protect against the various DoS threats, a highly-scalable and dynamic Azure-based threat detection and mitigation system have been developed and implemented with the primary objective of protecting the underlying infrastructure from DoS attacks and helping to prevent service interruptions for cloud services customers.</span></span> <span data-ttu-id="984d6-114">Azure DoS 緩和システムは、受信、送信、および地域間トラフィックを保護します。</span><span class="sxs-lookup"><span data-stu-id="984d6-114">The Azure DoS mitigation system protects inbound, outbound, and region-to-region traffic.</span></span>

<span data-ttu-id="984d6-115">通常、[オープンシステム相互](https://docs.microsoft.com/windows-hardware/drivers/network/windows-network-architecture-and-the-osi-model)接続 (OSI) モデルのネットワーク (L3) 層とトランスポート (L4) 層のターゲットに対して起動された DoS 攻撃。</span><span class="sxs-lookup"><span data-stu-id="984d6-115">Most DoS attacks launched against targets at the Network (L3) and Transport (L4) layers of the [Open Systems Interconnection](https://docs.microsoft.com/windows-hardware/drivers/network/windows-network-architecture-and-the-osi-model) (OSI) model.</span></span> <span data-ttu-id="984d6-116">L3 および L4 レイヤーに対する攻撃は、ネットワークインターフェイスまたはサービスを大量のリソースへの攻撃トラフィックであふれ、正当なトラフィックへの対応を拒否することを目的としています。</span><span class="sxs-lookup"><span data-stu-id="984d6-116">Attacks directed at the L3 and L4 layers are designed to flood a network interface or service with attack traffic to overwhelm resources and deny the ability to respond to legitimate traffic.</span></span> <span data-ttu-id="984d6-117">具体的には、L3 および L4 攻撃は、ネットワークリンク、デバイス、またはサービスの容量を飽和させたり、アプリケーションをサポートするサーバーまたは仮想マシンの Cpu を過負荷にしたりします。</span><span class="sxs-lookup"><span data-stu-id="984d6-117">Specifically, L3 and L4 attacks attempt to either saturate the capacity of network links, devices, or services or overwhelm the CPUs of servers or virtual machines supporting an application.</span></span>

<span data-ttu-id="984d6-118">L3 および L4 攻撃を防止するために、Microsoft では、これらのレイヤーを保護することによって、攻撃を受けたインフラストラクチャと顧客の目標を保護することを目的としたソリューションを設計、開発、および展開しています。</span><span class="sxs-lookup"><span data-stu-id="984d6-118">To guard against L3 and L4 attacks Microsoft has designed, developed, and deployed a solution aimed specifically at safeguarding the infrastructure and customer targets that come under attack by protecting these layers.</span></span> <span data-ttu-id="984d6-119">インフラストラクチャを保護することで、1人のお客様の攻撃トラフィックが、その他のお客様にとっての損害やサービスの品質低下につながることがなくなります。</span><span class="sxs-lookup"><span data-stu-id="984d6-119">Protecting the infrastructure ensures that attack traffic intended for one customer does not result in collateral damage or diminished network quality of service for other customers.</span></span> <span data-ttu-id="984d6-120">ソリューションは、データセンタールーターからのトラフィックサンプリングデータを使用します。</span><span class="sxs-lookup"><span data-stu-id="984d6-120">The solution uses traffic sampling data from datacenter routers.</span></span> <span data-ttu-id="984d6-121">このデータは、ネットワーク監視サービスによって分析され、攻撃を検出します。</span><span class="sxs-lookup"><span data-stu-id="984d6-121">This data is analyzed by a network monitoring service to detect attacks.</span></span> <span data-ttu-id="984d6-122">攻撃が検出されると、自動防御メカニズムが開始されます。</span><span class="sxs-lookup"><span data-stu-id="984d6-122">When an attack is detected, automated defense mechanisms kick in.</span></span>

## <a name="application-level-defenses"></a><span data-ttu-id="984d6-123">アプリケーションレベルの防御</span><span class="sxs-lookup"><span data-stu-id="984d6-123">Application-Level Defenses</span></span>
<span data-ttu-id="984d6-124">Microsoft のエンジニアリングチームは、お客様のデータを保護するために、 [Microsoft 運用セキュリティアシュアランス](https://www.microsoft.com/en-us/SDL/OperationalSecurityAssurance)が設定した厳格な基準に従っています。</span><span class="sxs-lookup"><span data-stu-id="984d6-124">Microsoft engineering teams follow the rigorous standards set by [Microsoft Operational Security Assurance](https://www.microsoft.com/en-us/SDL/OperationalSecurityAssurance) to help protect customer data.</span></span> <span data-ttu-id="984d6-125">Microsoft のクラウドサービスは、非常に高い負荷をサポートするように意図的に構築されており、アプリケーションレベルの DoS 攻撃を保護し、軽減します。</span><span class="sxs-lookup"><span data-stu-id="984d6-125">Microsoft's cloud services are intentionally built to support a very high load as well as to protect and mitigate against application-level DoS attacks.</span></span> <span data-ttu-id="984d6-126">一部のワークロードでは、複数のグローバルデータセンターにサービスが分散され、地域の分離と調整機能を備えた、スケールアウトされたアーキテクチャを実装しています。</span><span class="sxs-lookup"><span data-stu-id="984d6-126">We have implemented a scaled-out architecture where services are distributed across multiple global datacenters with regional isolation and throttling features in some of the workloads.</span></span>

<span data-ttu-id="984d6-127">お客様の管理者がサービスの初期セットアップ中に特定するお客様の国または地域ごとに、お客様のデータのプライマリストレージの場所を決定します。</span><span class="sxs-lookup"><span data-stu-id="984d6-127">Each customer's country or region, which the customer's administrator identifies during the initial setup of the services, determines the primary storage location for that customer's data.</span></span> <span data-ttu-id="984d6-128">お客様のデータは、プライマリ/バックアップ戦略に従って、冗長なデータセンター間でレプリケートされます。</span><span class="sxs-lookup"><span data-stu-id="984d6-128">Customer data is replicated between redundant datacenters according to a primary/backup strategy.</span></span> <span data-ttu-id="984d6-129">プライマリデータセンターは、ソフトウェアで実行されているすべての主要な顧客データと共に、アプリケーションソフトウェアをホストします。</span><span class="sxs-lookup"><span data-stu-id="984d6-129">A primary datacenter hosts the application software along with all the primary customer data running on the software.</span></span> <span data-ttu-id="984d6-130">バックアップデータセンターは自動フェールオーバーを提供します。</span><span class="sxs-lookup"><span data-stu-id="984d6-130">A backup datacenter provides automatic failover.</span></span> <span data-ttu-id="984d6-131">プライマリデータセンターが何らかの理由で機能しなくなると、要求はバックアップデータセンター内のソフトウェアおよび顧客データのコピーにリダイレクトされます。</span><span class="sxs-lookup"><span data-stu-id="984d6-131">If the primary datacenter ceases to function for any reason, requests are redirected to the copy of the software and customer data in the backup datacenter.</span></span> <span data-ttu-id="984d6-132">いずれの場合も、お客様のデータは、プライマリデータセンターまたはバックアップデータセンターのいずれかで処理されます。</span><span class="sxs-lookup"><span data-stu-id="984d6-132">At any given time, customer data may be processed in either the primary or the backup datacenter.</span></span> <span data-ttu-id="984d6-133">データを複数のデータセンターに分散すると、1つのデータセンターが攻撃を受けた場合に影響を受ける領域が減少します。</span><span class="sxs-lookup"><span data-stu-id="984d6-133">Distributing data across multiple datacenters reduces the affected surface area in case one datacenter is attacked.</span></span> <span data-ttu-id="984d6-134">さらに、影響を受けるデータセンターのサービスは、回復メカニズムの1つとしてセカンダリデータセンターに迅速にリダイレクトすることができます。また、その逆も同様です (サービスが復元されると、プライマリデータセンターにリダイレクトされます)。</span><span class="sxs-lookup"><span data-stu-id="984d6-134">Furthermore, the services in the affected datacenter can be quickly redirected to the secondary datacenter as one of the recovery mechanisms, and vice versa (redirected back to the primary datacenter once service is restored).</span></span>

<span data-ttu-id="984d6-135">個々のワークロードには、リソース使用率を管理する組み込みの機能が含まれています。</span><span class="sxs-lookup"><span data-stu-id="984d6-135">Individual workloads include built-in features that manage resource utilization.</span></span> <span data-ttu-id="984d6-136">たとえば、Exchange Online と SharePoint Online の調整メカニズムは、DoS 攻撃を防御する多層的なアプローチの一部です。</span><span class="sxs-lookup"><span data-stu-id="984d6-136">For example, the throttling mechanisms in Exchange Online and SharePoint Online are part of a multi-layered approach to defending against DoS attacks.</span></span> <span data-ttu-id="984d6-137">Exchange Online ユーザーの調整は、エンドユーザーが消費するリソースのレベル、リソースが Active Directory、Exchange Online インフォメーションストア、またはその他の場所にあるかどうかに基づいて行います。</span><span class="sxs-lookup"><span data-stu-id="984d6-137">Throttling for Exchange Online users is based on the level of resources consumed by the end user, whether the resources are in Active Directory, the Exchange Online information store, or elsewhere.</span></span> <span data-ttu-id="984d6-138">ユーザーが消費するリソースを制限するために、各クライアントに予算が割り当てられます。</span><span class="sxs-lookup"><span data-stu-id="984d6-138">A budget is allocated to each client to limit the resources consumed by a user.</span></span> <span data-ttu-id="984d6-139">ユーザーアクティビティおよびシステムコンポーネントの Exchange Online の調整は、[ワークロード管理](http://technet.microsoft.com/en-us/library/jj150503(v=exchg.150).aspx)に基づいています。</span><span class="sxs-lookup"><span data-stu-id="984d6-139">Exchange Online throttling for user activity and system components is based on [workload management](http://technet.microsoft.com/en-us/library/jj150503(v=exchg.150).aspx).</span></span> <span data-ttu-id="984d6-140">Exchange online のワークロードは、exchange online のシステムリソース管理の目的で明示的に定義されている Exchange Online の機能、プロトコル、またはサービスです。</span><span class="sxs-lookup"><span data-stu-id="984d6-140">An Exchange Online workload is an Exchange Online feature, protocol, or service that has been explicitly defined for the purposes of Exchange Online system resource management.</span></span> <span data-ttu-id="984d6-141">Exchange Online のワークロードごとに、CPU、メールボックスデータベース操作、または Active Directory 要求などのシステムリソースを使用して、ユーザー要求やバックグラウンド作業を実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="984d6-141">Each Exchange Online workload requires system resources such as CPU, mailbox database operations, or Active Directory requests to perform user requests or background work.</span></span> <span data-ttu-id="984d6-142">Exchange Online ワークロードの例としては、web 上の Outlook、Exchange ActiveSync、メールボックスの移行、メールボックスアシスタントなどがあります。</span><span class="sxs-lookup"><span data-stu-id="984d6-142">Examples of Exchange Online workloads include Outlook on the web, Exchange ActiveSync, mailbox migration, and mailbox assistants.</span></span> <span data-ttu-id="984d6-143">テナント管理者は、Exchange 管理シェルを使用して、ユーザーの Exchange ワークロード管理調整設定を管理できます。</span><span class="sxs-lookup"><span data-stu-id="984d6-143">Tenant administrators can manage Exchange workload management throttling settings for users with the Exchange Management Shell.</span></span> <span data-ttu-id="984d6-144">Exchange Online で実装されているさまざまな形式の調整には、PowerShell、Exchange Web サービス、POP と IMAP、Exchange ActiveSync、モバイルデバイス接続、受信者などが含まれます。</span><span class="sxs-lookup"><span data-stu-id="984d6-144">There are various forms of throttling that have been implemented within Exchange Online, including PowerShell, Exchange Web Services, and POP and IMAP, Exchange ActiveSync, mobile device connections, recipients, and more.</span></span> <span data-ttu-id="984d6-145">オンプレミスの Exchange 展開の管理者は調整ポリシーを構成できますが、管理者は Exchange Online の調整ポリシーを構成することはできません。</span><span class="sxs-lookup"><span data-stu-id="984d6-145">While administrators of on-premises Exchange deployments can configure throttling policies, Administrators cannot configure throttling policies for Exchange Online.</span></span>

<span data-ttu-id="984d6-146">SharePoint Online で調整するための最も一般的なトリガーは、クライアント側オブジェクトモデル (CSOM) コードで、頻度が高すぎて実行される操作が多すぎます。</span><span class="sxs-lookup"><span data-stu-id="984d6-146">The most common trigger for throttling in SharePoint Online is client-side object model (CSOM) code that performs too many actions at too high a frequency.</span></span> <span data-ttu-id="984d6-147">CSOM では、1つの要求で多くのアクションを実行できます。これは、使用制限を超えてユーザー単位の調整が発生する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="984d6-147">With CSOM, many actions can be performed with a single request, which can exceed usage limits and cause per-user throttling.</span></span>

<span data-ttu-id="984d6-148">調整につながる可能性があるアクティビティに関係なく、ユーザーが利用制限を超えると、SharePoint Online はそのユーザーアカウントからのその他の要求 (通常は短時間) を抑制します。</span><span class="sxs-lookup"><span data-stu-id="984d6-148">Regardless of the activity that might result in throttling, when a user exceeds usage limits, SharePoint Online throttles any further requests from that user account, usually for a short period.</span></span> <span data-ttu-id="984d6-149">ユーザースロットルが有効になっている間、そのユーザーが実行したすべての操作は、次の条件に従ってスロットルの有効期限が切れるまで抑制されます。</span><span class="sxs-lookup"><span data-stu-id="984d6-149">While a user throttle is in effect, all actions by that user are throttled until the throttle expires, according to the following criteria:</span></span>
- <span data-ttu-id="984d6-150">ユーザーが直接ブラウザーで実行する要求の場合、SharePoint Online は調整情報ページにリダイレクトし、要求は失敗します。</span><span class="sxs-lookup"><span data-stu-id="984d6-150">For requests performed by the user directly in a browser, SharePoint Online redirects to a throttling information page, and the requests fail.</span></span>
- <span data-ttu-id="984d6-151">その他すべての要求の場合 (CSOM 呼び出しを含む)、SharePoint Online は HTTP ステータスコード 429 ("要求が多すぎます") を返し、要求は失敗します。</span><span class="sxs-lookup"><span data-stu-id="984d6-151">For all other requests, including CSOM calls, SharePoint Online returns HTTP status code 429 ("too many requests"), and the requests fail.</span></span>

<span data-ttu-id="984d6-152">問題のあるプロセスが引き続き利用制限を超えた場合、SharePoint Online は完全にそのプロセスをブロックし、HTTP 状態コード 503 ("サービスは利用できません") を返します。</span><span class="sxs-lookup"><span data-stu-id="984d6-152">If the offending process continues to exceed usage limits, SharePoint Online may completely block the process and return HTTP status code 503 ("service unavailable").</span></span>

## <a name="vulnerability-and-penetration-testing"></a><span data-ttu-id="984d6-153">脆弱性およびペネトレーションテスト</span><span class="sxs-lookup"><span data-stu-id="984d6-153">Vulnerability and Penetration Testing</span></span>
<span data-ttu-id="984d6-154">Microsoft では、多くの[セキュリティテクノロジとプラクティス](https://www.microsoft.com/en-us/trustcenter/security/threatmanagement)を使用して、クラウドインフラストラクチャとオンプレミスネットワークを、クラウドサービス用のマルウェア対策コンポーネントおよびサービスを使用することを含む、高度で高度な脅威から[保護](https://blogs.technet.microsoft.com/hybridcloud/2015/05/05/protecting-your-datacenter-and-cloud-from-emerging-threats/)しています。マシン (Vm)、その他のシステム。</span><span class="sxs-lookup"><span data-stu-id="984d6-154">Microsoft uses many [security technologies and practices](https://www.microsoft.com/en-us/trustcenter/security/threatmanagement) to [protect its cloud infrastructure](https://blogs.technet.microsoft.com/hybridcloud/2015/05/05/protecting-your-datacenter-and-cloud-from-emerging-threats/) and on-premises networks against modern, sophisticated threats, including using antimalware components and services for cloud services, virtual machines (VMs), and other systems.</span></span> <span data-ttu-id="984d6-155">高度な脅威分析。ネットワーク、システム、ユーザーの通常の使用パターンを監視し、マシン学習を使用して、通常のすべての動作と、通常の侵入テストにフラグを設定します。</span><span class="sxs-lookup"><span data-stu-id="984d6-155">Advanced Threat Analytics, which monitors normal usage patterns for networks, systems, and users, and employs machine learning to flag any behavior that is out of the ordinary, and regular penetration testing.</span></span>

<span data-ttu-id="984d6-156">独自のペネトレーションテストを実行し、お客様に[Microsoft Cloud ユニファイドペネトレーションテストプログラム](https://technet.microsoft.com/en-us/mt784683)を提供するだけでなく、次のような一般的な脆弱性評価を実行するサードパーティのセキュリティ専門家と協力することもあります。クラウドサービスに対するペネトレーションテスト。</span><span class="sxs-lookup"><span data-stu-id="984d6-156">In addition to performing our own penetration tests and offering to our customers a [Microsoft Cloud Unified Penetration Testing program](https://technet.microsoft.com/en-us/mt784683), we also engage with third-party security professionals who perform regular vulnerability assessments of and penetration testing against our cloud services.</span></span> <span data-ttu-id="984d6-157">このようなサードパーティの脆弱性評価からのレポートは、[サービス信頼](https://aka.ms/STP)と[サービス保証](https://aka.ms/ServiceAssurance)ポータルからダウンロードできます。</span><span class="sxs-lookup"><span data-stu-id="984d6-157">We make the reports from these third-party vulnerability assessments available for download from the [Service Trust](https://aka.ms/STP) and the [Service Assurance](https://aka.ms/ServiceAssurance) portals.</span></span>
