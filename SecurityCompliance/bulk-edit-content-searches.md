---
title: コンテンツ検索を一括編集する
ms.author: markjjo
author: markjjo
manager: laurawi
ms.date: 12/29/2016
ms.audience: Admin
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
search.appverid: MOE150
ms.assetid: 39e4654a-9588-41f6-892b-c33ab57bfbe2
description: Office 365 または Microsoft 365 のセキュリティ/コンプライアンスセンターで一括検索エディターを使用して、1つまたは複数のコンテンツ検索のクエリとコンテンツの場所をすばやく変更できます。
ms.openlocfilehash: 3a484ad689b1c638e0e14ed1643edea0f2f56c09
ms.sourcegitcommit: 0017dc6a5f81c165d9dfd88be39a6bb17856582e
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 04/23/2019
ms.locfileid: "32243856"
---
# <a name="bulk-edit-content-searches"></a><span data-ttu-id="36059-103">コンテンツ検索を一括編集する</span><span class="sxs-lookup"><span data-stu-id="36059-103">Bulk edit Content Searches</span></span>

<span data-ttu-id="36059-104">コンテンツ検索ツールの一括検索エディターを使用して、複数の検索を同時に編集できます。</span><span class="sxs-lookup"><span data-stu-id="36059-104">You can use the Bulk Search Editor in the Content Search tool to edit multiple searches at the same time.</span></span> <span data-ttu-id="36059-105">このツールを使用すると、1つまたは複数の検索のクエリとコンテンツの場所をすばやく変更できます。</span><span class="sxs-lookup"><span data-stu-id="36059-105">Using this tool lets you quickly change the query and content locations for one or more searches.</span></span> <span data-ttu-id="36059-106">その後、検索を再実行して、変更された検索の新しい推定結果を取得することができます。</span><span class="sxs-lookup"><span data-stu-id="36059-106">Then you can re-run the searches and get new estimated search results for the revised searches.</span></span> <span data-ttu-id="36059-107">エディターでは、Microsoft Excel ファイルまたはテキストファイルからクエリとコンテンツの場所をコピーして貼り付けることもできます。</span><span class="sxs-lookup"><span data-stu-id="36059-107">The editor also lets you copy and paste queries and content locations from a Microsoft Excel file or text file.</span></span> <span data-ttu-id="36059-108">つまり、検索統計ツールを使用して、1つまたは複数の検索の統計を表示することができます。 Excel でクエリとコンテンツの場所を編集できる CSV ファイルに統計をエクスポートします。</span><span class="sxs-lookup"><span data-stu-id="36059-108">This means you can use the Search Statistics tool to view the statistics of one or more searches, export the statistics to a CSV file where you can edit the queries and content locations in Excel.</span></span> <span data-ttu-id="36059-109">次に、一括検索エディターを使用して、変更されたクエリとコンテンツの場所を検索に追加します。</span><span class="sxs-lookup"><span data-stu-id="36059-109">Then you use the Bulk Search Editor to add the revised queries and content locations to the searches.</span></span> <span data-ttu-id="36059-110">1つまたは複数の検索を変更した後、それらを再起動して、新しい予測される検索結果を取得することができます。</span><span class="sxs-lookup"><span data-stu-id="36059-110">After you've revised one or more searches, you can re-start them and get new estimated search results.</span></span>
  
<span data-ttu-id="36059-111">検索統計ツールの使用方法の詳細については、「[コンテンツ検索結果のキーワード統計情報を表示](view-keyword-statistics-for-content-search.md)する」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="36059-111">For more information about using the Search Statistics tool, see [View keyword statistics for Content Search results](view-keyword-statistics-for-content-search.md).</span></span>
  
## <a name="use-the-bulk-search-editor-to-change-queries"></a><span data-ttu-id="36059-112">一括検索エディターを使用してクエリを変更する</span><span class="sxs-lookup"><span data-stu-id="36059-112">Use the Bulk Search Editor to change queries</span></span>

1. <span data-ttu-id="36059-113">に[https://protection.office.com](https://protection.office.com)移動し、[**コンテンツ検索**の**検索** \> ] をクリックします。</span><span class="sxs-lookup"><span data-stu-id="36059-113">Go to [https://protection.office.com](https://protection.office.com), and then click **Search** \> **Content search**.</span></span>
    
2. <span data-ttu-id="36059-114">検索の一覧で、1つ以上の検索を選択し、[**一括検索エディター** ![の一括検索エディター](media/1ddb3d18-2f00-4a7b-98a6-817ca5ec7014.png)] ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="36059-114">In the list of searches, select one or more searches, and then click **Bulk Search Editor** ![Bulk Search Editor button](media/1ddb3d18-2f00-4a7b-98a6-817ca5ec7014.png).</span></span>
    
    ![1つ以上の検索を選択し、[一括検索エディター] をクリックする](media/600c9716-89a2-4451-b111-fa7cfaad2006.png)
  
    <span data-ttu-id="36059-116">次の情報が、一括検索エディターの [**クエリ**] ページに表示されます。</span><span class="sxs-lookup"><span data-stu-id="36059-116">The following information is displayed on the **Queries** page of the Bulk Search Editor.</span></span> 
    
    ![[一括検索エディター] ページに、選択した検索のクエリが表示されます。](media/189659af-cc78-4479-b0bc-a93decad2f6c.png)
  
    <span data-ttu-id="36059-118">a.</span><span class="sxs-lookup"><span data-stu-id="36059-118">a.</span></span> <span data-ttu-id="36059-119">[**検索**] 列には、コンテンツ検索の名前が表示されます。</span><span class="sxs-lookup"><span data-stu-id="36059-119">The **Search** column displays the name of the Content Search.</span></span> <span data-ttu-id="36059-120">前述したように、複数の検索のクエリを編集できます。</span><span class="sxs-lookup"><span data-stu-id="36059-120">As previously stated, you can edit the query for multiple searches.</span></span> 
    
    <span data-ttu-id="36059-121">b.</span><span class="sxs-lookup"><span data-stu-id="36059-121">b.</span></span> <span data-ttu-id="36059-122">[**クエリ**] 列には、[**検索**] 列にリストされているコンテンツ検索のクエリが表示されます。</span><span class="sxs-lookup"><span data-stu-id="36059-122">The **Query** column displays the query for the Content Search listed in the **Search** column.</span></span> <span data-ttu-id="36059-123">キーワードリスト機能を使用してクエリを作成した場合、各キーワードはテキスト \* \* `(c:s)`で区切られ**ます。これは、キーワードが**or**演算子で接続されていることを示します。さらに、クエリに条件が含まれている場合、キーワードと条件はテキスト \* \* `(c:c)`で区切られ**ます。</span><span class="sxs-lookup"><span data-stu-id="36059-123">If the query was created using the keyword list feature, the keywords are separated by the text \*\* `(c:s)`**. This indicates that the keywords are connected by the **OR** operator. Additionally, if the query includes conditions, the keywords and the conditions are separated by the text \*\* `(c:c)`**.</span></span> <span data-ttu-id="36059-124">これは、キーワード (またはキーワードのフェーズ) が**and**演算子によって条件に接続されていることを示します。</span><span class="sxs-lookup"><span data-stu-id="36059-124">This indicates that the keywords (or keyword phases) are connected to the conditions by the **AND** operator.</span></span> <span data-ttu-id="36059-125">たとえば、前のスクリーンショットでは、検索 ContosoSearch1 に相当する`customer (c:s) pricing(c:c)(date=2000-01-01..2016-09-30)` kql クエリがになり`(customer OR pricing) AND (date=2002-01-01..2016-09-30)`ます。</span><span class="sxs-lookup"><span data-stu-id="36059-125">For example, in the previous screenshot the for search ContosoSearch1, the KQL query that is equivalent to  `customer (c:s) pricing(c:c)(date=2000-01-01..2016-09-30)` would be  `(customer OR pricing) AND (date=2002-01-01..2016-09-30)`.</span></span>
    
3. <span data-ttu-id="36059-126">クエリを編集するには、変更するクエリのセルをクリックして、次のいずれかの操作を行います。</span><span class="sxs-lookup"><span data-stu-id="36059-126">To edit a query, click in the cell of the query that you want to change and doing one of the following things.</span></span> <span data-ttu-id="36059-127">クリックしたときに、セルの罫線が青いボックスで囲まれている点に注意してください。</span><span class="sxs-lookup"><span data-stu-id="36059-127">Note that the cell is bordered by a blue box when you click it.</span></span>
    
   - <span data-ttu-id="36059-128">新しいクエリをセルに入力します。</span><span class="sxs-lookup"><span data-stu-id="36059-128">Type the new query in the cell.</span></span> <span data-ttu-id="36059-129">クエリの一部を編集できないことに注意してください。</span><span class="sxs-lookup"><span data-stu-id="36059-129">Note that you can't edit a portion of the query.</span></span> <span data-ttu-id="36059-130">クエリ全体を入力する必要があります。</span><span class="sxs-lookup"><span data-stu-id="36059-130">You have to type the entire query.</span></span>
    
      <span data-ttu-id="36059-131">または</span><span class="sxs-lookup"><span data-stu-id="36059-131">Or</span></span>
    
    - <span data-ttu-id="36059-132">新しいクエリをセルに貼り付けます。</span><span class="sxs-lookup"><span data-stu-id="36059-132">Paste a new query in the cell.</span></span> <span data-ttu-id="36059-133">この例では、テキストファイルや Excel ファイルなどのファイルからクエリテキストをコピーしていることを前提としています。</span><span class="sxs-lookup"><span data-stu-id="36059-133">This assumes that you've copied the query text from a file, such as a text file or an Excel file.</span></span>
    
4. <span data-ttu-id="36059-134">**クエリ**ページで1つ以上のクエリを編集した後、[**保存**] をクリックします。</span><span class="sxs-lookup"><span data-stu-id="36059-134">After you've edited one or more queries on the **Queries** page, click **Save**.</span></span>
    
    <span data-ttu-id="36059-135">変更したクエリは、選択した検索の**クエリ**列に表示されます。</span><span class="sxs-lookup"><span data-stu-id="36059-135">The revised query is displayed in the **Query** column for the selected search.</span></span> 
    
5. <span data-ttu-id="36059-136">[**閉じる**] をクリックして、一括検索エディターを閉じます。</span><span class="sxs-lookup"><span data-stu-id="36059-136">Click **Close** to close the Bulk Search Editor.</span></span> 
    
6. <span data-ttu-id="36059-137">[**コンテンツ検索**] ページで、編集した検索を選択し、[検索の**開始**] をクリックして、変更されたクエリを使用して検索を再開します。</span><span class="sxs-lookup"><span data-stu-id="36059-137">On the **Content search** page, select the search that you edited, and click **Start** search to restart the search using the revised query.</span></span> 
    
<span data-ttu-id="36059-138">ここでは、一括検索エディターを使用してクエリを編集するためのヒントを示します。</span><span class="sxs-lookup"><span data-stu-id="36059-138">Here are some tips for editing queries using the Bulk Search Editor:</span></span>
  
- <span data-ttu-id="36059-139">既存のクエリ ( **Ctrl キー**を使用して) をテキストファイルにコピーします。</span><span class="sxs-lookup"><span data-stu-id="36059-139">Copy the existing query (by using **Ctrl C** ) to a text file.</span></span> <span data-ttu-id="36059-140">テキストファイルのクエリを編集し、変更したクエリをコピーして ( **Ctrl キー**を使用して)、[**クエリ**] ページのセルに貼り付けます。</span><span class="sxs-lookup"><span data-stu-id="36059-140">Edit the query in the text file, and then copy the revised query and paste it (using **Ctrl V** ) back into the cell on the **Queries** page.</span></span> 
    
- <span data-ttu-id="36059-141">他のアプリケーション (microsoft Word や microsoft Excel など) からクエリをコピーすることもできます。</span><span class="sxs-lookup"><span data-stu-id="36059-141">You can also copy queries from other applications (such as Microsoft Word or Microsoft Excel).</span></span> <span data-ttu-id="36059-142">ただし、一括検索エディターを使用して、サポートされていない文字をクエリに誤って追加する可能性があることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="36059-142">However, be aware that you might inadvertently add unsupported characters to a query using the Bulk Search Editor.</span></span> <span data-ttu-id="36059-143">サポートされていない文字を回避するには、[**クエリ**] ページのセルにクエリを入力することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="36059-143">The best way to prevent unsupported characters is to just type the query in a cell on the **Queries** page.</span></span> <span data-ttu-id="36059-144">また、Word や Excel からクエリをコピーして、メモ帳などのテキスト エディターでファイルに貼り付けることもできます。</span><span class="sxs-lookup"><span data-stu-id="36059-144">Alternatively, you can copy a query from Word or Excel and then paste it to file in a plain text editor, such as Microsoft Notepad.</span></span> <span data-ttu-id="36059-145">そのテキスト ファイルを保存し、 **[エンコード]** ドロップダウン リストで **[ANSI]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="36059-145">Then save the text file and select **ANSI** in the **Encoding** drop-down list.</span></span> <span data-ttu-id="36059-146">これにより、すべての書式設定とサポートされない文字が削除されます。</span><span class="sxs-lookup"><span data-stu-id="36059-146">This will remove any formatting and unsupported characters.</span></span> <span data-ttu-id="36059-147">その後、テキストファイルから [クエリ] ページにクエリをコピー \*\*\*\* して貼り付けることができます。</span><span class="sxs-lookup"><span data-stu-id="36059-147">Then you can copy and paste the query from the text file to the **Queries** page.</span></span> 
    
  
## <a name="use-the-bulk-search-editor-to-change-content-locations"></a><span data-ttu-id="36059-148">一括検索エディターを使用してコンテンツの場所を変更する</span><span class="sxs-lookup"><span data-stu-id="36059-148">Use the Bulk Search Editor to change content locations</span></span>

1. <span data-ttu-id="36059-149">1つまたは複数の選択した検索に対する一括検索エディターで、[**一括場所エディタを有効にする**] をクリックし、ページに表示される [**場所**] リンクをクリックします。</span><span class="sxs-lookup"><span data-stu-id="36059-149">In the Bulk Search Editor for one or more selected searches, click **Enable bulk location editor**, and then click the **Locations** link that is displayed on the page.</span></span> 
    
    <span data-ttu-id="36059-150">次の情報が、一括検索エディターの [**場所**] ページに表示されます。</span><span class="sxs-lookup"><span data-stu-id="36059-150">The following information is displayed on the **Locations** page of the Bulk Search Editor.</span></span> 
    
    ![[一括場所エディターを有効にする] をクリックし、[場所] をクリックして、コンテンツの場所を追加または削除します。](media/a5a468ce-bd63-4c53-bc37-ff64cf769e59.png)
  
    <span data-ttu-id="36059-152">a.</span><span class="sxs-lookup"><span data-stu-id="36059-152">a.</span></span> <span data-ttu-id="36059-153">**検索するメールボックス**このセクションには、選択したコンテンツ検索の列と、検索に含まれる各メールボックスの行が表示されます。</span><span class="sxs-lookup"><span data-stu-id="36059-153">**Mailboxes to search**This section displays a column for each selected Content Search, and row for each mailbox that's included in the search.</span></span> <span data-ttu-id="36059-154">チェックマークは、そのメールボックスが検索に含まれていることを示します。</span><span class="sxs-lookup"><span data-stu-id="36059-154">A checkmark indicates that the mailbox is included in the search.</span></span> <span data-ttu-id="36059-155">他のメールボックスを検索に追加するには、メールボックスの電子メールアドレスを空白行に入力してから、追加するコンテンツ検索のチェックボックスをクリックします。</span><span class="sxs-lookup"><span data-stu-id="36059-155">You can add additional mailboxes to a search by typing the email address of the mailbox in a blank row and then clicking the checkbox for the Content Search that you want to add it to.</span></span> <span data-ttu-id="36059-156">または、チェックボックスをオフにして、検索からメールボックスを削除することもできます。</span><span class="sxs-lookup"><span data-stu-id="36059-156">Or you can remove a mailbox from a search by clearing the checkbox.</span></span>
    
    <span data-ttu-id="36059-157">b.</span><span class="sxs-lookup"><span data-stu-id="36059-157">b.</span></span> <span data-ttu-id="36059-158">**検索する SharePoint サイト**このセクションには、選択した各コンテンツ検索に含まれる各 SharePoint および OneDrive サイトの行が表示されます。</span><span class="sxs-lookup"><span data-stu-id="36059-158">**SharePoint sites to search**This section displays a row for each SharePoint and OneDrive site that included in each selected Content Search.</span></span> <span data-ttu-id="36059-159">チェックマークは、サイトが検索に含まれていることを示します。</span><span class="sxs-lookup"><span data-stu-id="36059-159">A checkmark indicates that the site is included in the search.</span></span> <span data-ttu-id="36059-160">他のサイトを検索に追加するには、サイトの URL を空白の行に入力し、追加するコンテンツ検索のチェックボックスをクリックします。</span><span class="sxs-lookup"><span data-stu-id="36059-160">You can add additional sites to a search by typing the URL for the site in a blank row and then and clicking the checkbox for the Content Search that you want to add it to.</span></span> <span data-ttu-id="36059-161">または、チェックボックスをオフにして、検索からサイトを削除することもできます。</span><span class="sxs-lookup"><span data-stu-id="36059-161">Or you can remove a site from a search by clearing the checkbox.</span></span>
    
    <span data-ttu-id="36059-162">c.</span><span class="sxs-lookup"><span data-stu-id="36059-162">c.</span></span> <span data-ttu-id="36059-163">**その他の検索オプション**このセクションは、インデックスのないアイテムとパブリックフォルダーが検索に含まれるかどうかを示します。</span><span class="sxs-lookup"><span data-stu-id="36059-163">**Other search options**This section indicates whether unindexed items and public folders are included in the search.</span></span> <span data-ttu-id="36059-164">これらを含めるには、チェックボックスがオンになっていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="36059-164">To include these, make sure the checkbox is selected.</span></span> <span data-ttu-id="36059-165">それらを削除するには、このチェックボックスをオフにします。</span><span class="sxs-lookup"><span data-stu-id="36059-165">To remove them, clear the checkbox.</span></span>
    
2. <span data-ttu-id="36059-166">[**場所**] ページで1つ以上のセクションを編集した後、[**保存**] をクリックします。</span><span class="sxs-lookup"><span data-stu-id="36059-166">After you've edited one or more of the sections on the **Locations** page, click **Save**.</span></span>
    
    <span data-ttu-id="36059-167">変更されたコンテンツの場所は、選択した検索の該当するセクションに表示されます。</span><span class="sxs-lookup"><span data-stu-id="36059-167">The revised content locations are displayed in the appropriate section for the selected searches.</span></span>
    
3. <span data-ttu-id="36059-168">[**閉じる**] をクリックして、一括検索エディターを閉じます。</span><span class="sxs-lookup"><span data-stu-id="36059-168">Click **Close** to close the Bulk Search Editor.</span></span> 
    
4. <span data-ttu-id="36059-169">[**コンテンツ検索**] ページで、編集した検索を選択し、[検索の**開始**] をクリックして、改訂されたコンテンツの場所を使用して検索を再開します。</span><span class="sxs-lookup"><span data-stu-id="36059-169">On the **Content search** page, select the search that you edited, and click **Start** search to restart the search using the revised content locations.</span></span> 
    
<span data-ttu-id="36059-170">ここでは、一括検索エディターを使用してコンテンツの場所を編集するためのヒントを示します。</span><span class="sxs-lookup"><span data-stu-id="36059-170">Here are some tips for editing content locations using the Bulk Search Editor:</span></span>
  
- <span data-ttu-id="36059-171">コンテンツ検索を編集して、組織内のすべてのメールボックスまたはサイトを検索するには、[**メールボックスを検索するメールボックス**または**SharePoint サイトを**検索する] セクションに**すべて**空の行を入力して、チェックボックスをクリックします。</span><span class="sxs-lookup"><span data-stu-id="36059-171">You can edit Content Searches to search all mailboxes or sites in the organization by typing **All** in a blank row in the **Mailboxes to search** or **SharePoint sites to search** section and then clicking the checkbox.</span></span> 
    
- <span data-ttu-id="36059-172">テキストファイルまたは Excel ファイルから複数の行をコピーし、[**場所**] ページのセクションに貼り付けると、複数のコンテンツの場所を1つ以上の検索に追加できます。</span><span class="sxs-lookup"><span data-stu-id="36059-172">You can add multiple content locations to one or more searches by copying multiple rows from a text file or an Excel file and then pasting them to a section on the **Locations** page.</span></span> <span data-ttu-id="36059-173">新しい場所を追加した後、場所を追加する検索のチェックボックスを必ずオンにします。</span><span class="sxs-lookup"><span data-stu-id="36059-173">After you add new locations, be sure to select the checkbox for each search that you want add the location to.</span></span> 
    
    > [!TIP]
    > <span data-ttu-id="36059-174">組織内のすべてのユーザーの電子メールアドレスの一覧を生成するには、「コンテンツ検索を使用する」の手順2で PowerShell コマンドを実行し、[メールボックスと OneDrive for business サイトでユーザーの一覧を検索](search-the-mailbox-and-onedrive-for-business-for-a-list-of-users.md#step2)します。</span><span class="sxs-lookup"><span data-stu-id="36059-174">To generate a list of email addresses for all the users in your organization, run the PowerShell command in Step 2 in [Use Content Search to search the mailbox and OneDrive for Business site for a list of users](search-the-mailbox-and-onedrive-for-business-for-a-list-of-users.md#step2).</span></span> <span data-ttu-id="36059-175">または、「[組織内のすべての onedrive の場所の一覧を作成](https://support.office.com/article/8e200cb2-c768-49cb-88ec-53493e8ad80a)する」のスクリプトを使用して、組織内のすべての onedrive for business サイトの一覧を生成します。</span><span class="sxs-lookup"><span data-stu-id="36059-175">Or use the script in [Create a list of all OneDrive locations in your organization](https://support.office.com/article/8e200cb2-c768-49cb-88ec-53493e8ad80a) to generate a list of all OneDrive for Business sites in your organization.</span></span> <span data-ttu-id="36059-176">自分の組織の個人用サイトドメイン (たとえば、スクリプトで作成された OneDrive for business サイトhttps://contoso-my.sharepoint.com) ) の URL を追加する必要があることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="36059-176">Note that you'll have to append the URL for your's organization's MySite domain (for example, https://contoso-my.sharepoint.com) to the OneDrive for Business sites that's created by the script.</span></span> <span data-ttu-id="36059-177">電子メールアドレスまたは OneDrive for business サイトの一覧を作成した後、それらを一括検索エディターの [**場所**] ページにコピーして貼り付けることができます。</span><span class="sxs-lookup"><span data-stu-id="36059-177">After you have list of email addresses or OneDrive for Business sites, you can copy and paste them to the **Locations** page in the Bulk Search Editor.</span></span> 
  
- <span data-ttu-id="36059-178">[**保存**] をクリックして変更を一括検索エディターに保存すると、検索に追加したメールボックスの電子メールアドレスが検証されます。</span><span class="sxs-lookup"><span data-stu-id="36059-178">After you click **Save** to save changes in Bulk Search Editor, the email address for mailboxes that you added to a search will be validated.</span></span> <span data-ttu-id="36059-179">メールアドレスが存在しない場合は、メールボックスが見つからないというエラーメッセージが表示されます。</span><span class="sxs-lookup"><span data-stu-id="36059-179">If the email address doesn't exist, an error message is displayed saying the mailbox can't be located.</span></span> <span data-ttu-id="36059-180">サイトの url は検証されていないことに注意してください。</span><span class="sxs-lookup"><span data-stu-id="36059-180">Note that URLs for sites aren't validated.</span></span> 
  

