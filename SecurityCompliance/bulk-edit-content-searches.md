---
title: コンテンツ検索を一括編集する
ms.author: markjjo
author: markjjo
manager: laurawi
ms.date: 12/29/2016
audience: Admin
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
search.appverid: MOE150
ms.assetid: 39e4654a-9588-41f6-892b-c33ab57bfbe2
description: Office 365 または Microsoft 365 のセキュリティ/コンプライアンスセンターで一括検索エディターを使用して、1つまたは複数のコンテンツ検索のクエリとコンテンツの場所をすばやく変更できます。
ms.openlocfilehash: d4f79cc323b752d020606e22ff72a47bc03e9ae9
ms.sourcegitcommit: 9d67cb52544321a430343d39eb336112c1a11d35
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/17/2019
ms.locfileid: "34152219"
---
# <a name="bulk-edit-content-searches"></a>コンテンツ検索を一括編集する

コンテンツ検索ツールの一括検索エディターを使用して、複数の検索を同時に編集できます。 このツールを使用すると、1つまたは複数の検索のクエリとコンテンツの場所をすばやく変更できます。 その後、検索を再実行して、変更された検索の新しい推定結果を取得することができます。 エディターでは、Microsoft Excel ファイルまたはテキストファイルからクエリとコンテンツの場所をコピーして貼り付けることもできます。 つまり、検索統計ツールを使用して、1つまたは複数の検索の統計を表示することができます。 Excel でクエリとコンテンツの場所を編集できる CSV ファイルに統計をエクスポートします。 次に、一括検索エディターを使用して、変更されたクエリとコンテンツの場所を検索に追加します。 1つまたは複数の検索を変更した後、それらを再起動して、新しい予測される検索結果を取得することができます。
  
検索統計ツールの使用方法の詳細については、「[コンテンツ検索結果のキーワード統計情報を表示](view-keyword-statistics-for-content-search.md)する」を参照してください。
  
## <a name="use-the-bulk-search-editor-to-change-queries"></a>一括検索エディターを使用してクエリを変更する

1. に[https://protection.office.com](https://protection.office.com)移動し、[**コンテンツ検索**の**検索** \> ] をクリックします。
    
2. 検索の一覧で、1つ以上の検索を選択し、[**一括検索エディター** ![の一括検索エディター](media/1ddb3d18-2f00-4a7b-98a6-817ca5ec7014.png)] ボタンをクリックします。
    
    ![1つ以上の検索を選択し、[一括検索エディター] をクリックする](media/600c9716-89a2-4451-b111-fa7cfaad2006.png)
  
    次の情報が、一括検索エディターの [**クエリ**] ページに表示されます。 
    
    ![[一括検索エディター] ページに、選択した検索のクエリが表示されます。](media/189659af-cc78-4479-b0bc-a93decad2f6c.png)
  
    a. [**検索**] 列には、コンテンツ検索の名前が表示されます。 前述したように、複数の検索のクエリを編集できます。 
    
    b. [**クエリ**] 列には、[**検索**] 列にリストされているコンテンツ検索のクエリが表示されます。 キーワードリスト機能を使用してクエリを作成した場合、各キーワードはテキスト * * `(c:s)`で区切られ**ます。これは、キーワードが**or**演算子で接続されていることを示します。さらに、クエリに条件が含まれている場合、キーワードと条件はテキスト * * `(c:c)`で区切られ**ます。 これは、キーワード (またはキーワードのフェーズ) が**and**演算子によって条件に接続されていることを示します。 たとえば、前のスクリーンショットでは、検索 ContosoSearch1 に相当する`customer (c:s) pricing(c:c)(date=2000-01-01..2016-09-30)` kql クエリがになり`(customer OR pricing) AND (date=2002-01-01..2016-09-30)`ます。
    
3. クエリを編集するには、変更するクエリのセルをクリックして、次のいずれかの操作を行います。 クリックしたときに、セルの罫線が青いボックスで囲まれている点に注意してください。
    
   - 新しいクエリをセルに入力します。 クエリの一部を編集できないことに注意してください。 クエリ全体を入力する必要があります。
    
      または
    
    - 新しいクエリをセルに貼り付けます。 この例では、テキストファイルや Excel ファイルなどのファイルからクエリテキストをコピーしていることを前提としています。
    
4. **クエリ**ページで1つ以上のクエリを編集した後、[**保存**] をクリックします。
    
    変更したクエリは、選択した検索の**クエリ**列に表示されます。 
    
5. [**閉じる**] をクリックして、一括検索エディターを閉じます。 
    
6. [**コンテンツ検索**] ページで、編集した検索を選択し、[検索の**開始**] をクリックして、変更されたクエリを使用して検索を再開します。 
    
ここでは、一括検索エディターを使用してクエリを編集するためのヒントを示します。
  
- 既存のクエリ ( **Ctrl キー**を使用して) をテキストファイルにコピーします。 テキストファイルのクエリを編集し、変更したクエリをコピーして ( **Ctrl キー**を使用して)、[**クエリ**] ページのセルに貼り付けます。 
    
- 他のアプリケーション (Microsoft Word や Microsoft Excel など) からクエリをコピーすることもできます。 ただし、一括検索エディターを使用して、サポートされていない文字をクエリに誤って追加する可能性があることに注意してください。 サポートされていない文字を回避するには、[**クエリ**] ページのセルにクエリを入力することをお勧めします。 また、Word や Excel からクエリをコピーして、メモ帳などのテキスト エディターでファイルに貼り付けることもできます。 そのテキスト ファイルを保存し、 **[エンコード]** ドロップダウン リストで **[ANSI]** を選択します。 これにより、すべての書式設定とサポートされない文字が削除されます。 その後、テキストファイルから [クエリ] ページにクエリをコピー **** して貼り付けることができます。 
    
  
## <a name="use-the-bulk-search-editor-to-change-content-locations"></a>一括検索エディターを使用してコンテンツの場所を変更する

1. 1つまたは複数の選択した検索に対する一括検索エディターで、[**一括場所エディタを有効にする**] をクリックし、ページに表示される [**場所**] リンクをクリックします。 
    
    次の情報が、一括検索エディターの [**場所**] ページに表示されます。 
    
    ![[一括場所エディターを有効にする] をクリックし、[場所] をクリックして、コンテンツの場所を追加または削除します。](media/a5a468ce-bd63-4c53-bc37-ff64cf769e59.png)
  
    a. **検索するメールボックス**このセクションには、選択したコンテンツ検索の列と、検索に含まれる各メールボックスの行が表示されます。 チェックマークは、そのメールボックスが検索に含まれていることを示します。 他のメールボックスを検索に追加するには、メールボックスの電子メールアドレスを空白行に入力してから、追加するコンテンツ検索のチェックボックスをクリックします。 または、チェックボックスをオフにして、検索からメールボックスを削除することもできます。
    
    b. **検索する SharePoint サイト**このセクションには、選択した各コンテンツ検索に含まれる各 SharePoint および OneDrive サイトの行が表示されます。 チェックマークは、サイトが検索に含まれていることを示します。 他のサイトを検索に追加するには、サイトの URL を空白の行に入力し、追加するコンテンツ検索のチェックボックスをクリックします。 または、チェックボックスをオフにして、検索からサイトを削除することもできます。
    
    c. **その他の検索オプション**このセクションは、インデックスのないアイテムとパブリックフォルダーが検索に含まれるかどうかを示します。 これらを含めるには、チェックボックスがオンになっていることを確認します。 それらを削除するには、このチェックボックスをオフにします。
    
2. [**場所**] ページで1つ以上のセクションを編集した後、[**保存**] をクリックします。
    
    変更されたコンテンツの場所は、選択した検索の該当するセクションに表示されます。
    
3. [**閉じる**] をクリックして、一括検索エディターを閉じます。 
    
4. [**コンテンツ検索**] ページで、編集した検索を選択し、[検索の**開始**] をクリックして、改訂されたコンテンツの場所を使用して検索を再開します。 
    
ここでは、一括検索エディターを使用してコンテンツの場所を編集するためのヒントを示します。
  
- コンテンツ検索を編集して、組織内のすべてのメールボックスまたはサイトを検索するには、[**メールボックスを検索するメールボックス**または**SharePoint サイトを**検索する] セクションに**すべて**空の行を入力して、チェックボックスをクリックします。 
    
- テキストファイルまたは Excel ファイルから複数の行をコピーし、[**場所**] ページのセクションに貼り付けると、複数のコンテンツの場所を1つ以上の検索に追加できます。 新しい場所を追加した後、場所を追加する検索のチェックボックスを必ずオンにします。 
    
    > [!TIP]
    > 組織内のすべてのユーザーの電子メールアドレスの一覧を生成するには、「コンテンツ検索を使用する」の手順2で PowerShell コマンドを実行し、[メールボックスと OneDrive For business サイトでユーザーの一覧を検索](search-the-mailbox-and-onedrive-for-business-for-a-list-of-users.md#step2)します。 または、「[組織内のすべての onedrive の場所の一覧を作成](https://support.office.com/article/8e200cb2-c768-49cb-88ec-53493e8ad80a)する」のスクリプトを使用して、組織内のすべての Onedrive for business サイトの一覧を生成します。 自分の組織の個人用サイトドメイン (たとえば、スクリプトで作成された OneDrive for Business サイトhttps://contoso-my.sharepoint.com) ) の URL を追加する必要があることに注意してください。 電子メールアドレスまたは OneDrive for Business サイトの一覧を作成した後、それらを一括検索エディターの [**場所**] ページにコピーして貼り付けることができます。 
  
- [**保存**] をクリックして変更を一括検索エディターに保存すると、検索に追加したメールボックスの電子メールアドレスが検証されます。 メールアドレスが存在しない場合は、メールボックスが見つからないというエラーメッセージが表示されます。 サイトの Url は検証されていないことに注意してください。 
  

