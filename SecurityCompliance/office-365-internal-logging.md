---
title: office 365 の office 365 エンジニアリングの内部ログ
ms.author: robmazz
author: robmazz
manager: laurawi
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
localization_priority: None
search.appverid:
- MET150
ms.collection:
- Strat_O365_IP
- M365-security-compliance
description: Office 365 エンジニアリングチームの内部ログのしくみについて説明します。
ms.openlocfilehash: 68f8763b9a647de462f402e40a4c78749343dfd9
ms.sourcegitcommit: f57b4001ef1327f0ea622e716a4d7d78f1769b49
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/23/2019
ms.locfileid: "30216497"
---
# <a name="internal-logging-for-office-365-engineering"></a>Office 365 のエンジニアリングのための内部ログ記録
お客様が利用できるイベントとログデータに加えて、Office 365 のエンジニアが利用できる内部ログデータ収集システムもあります。Office 365 サーバーから、Cosmos と呼ばれる内部の大規模なデータコンピューティングサービスに、さまざまな種類のログデータがアップロードされています。各サービスチームは、それぞれのサーバーからの監査ログを Cosmos データベースにアップロードして、集約と分析を行います。このデータ転送は、「Office データローダー (ODL)」と呼ばれる独自の自動化ツールを使用して、明示的に承認されたポートとプロトコルに基づいて、FIPS 140-2 で検証された TLS 接続を介して行われます。Office 365 で監査レコードを収集して処理するために使用されるツールでは、元の監査レコードのコンテンツまたは時間の順序を永続的に変更したり、取り消したりすることはできません。

サービスチームは、Cosmos を一元的なリポジトリとして使用して、アプリケーションの使用状況の分析、システムおよび運用上のパフォーマンスの測定、問題やセキュリティの問題を示す異常なパターンの調査を行います。各サービスチームは、分析の対象に応じてログのベースラインを Cosmos にアップロードします。これには、多くの場合、次のものが含まれます。
- イベントログ
- AppLocker ログ
- パフォーマンス データ
- System Center データ
- 通話詳細レコード
- qoe (Quality of experience) データ
- IIS Web サーバーのログ
- SQL Server ログ
- Syslog データ
- セキュリティ監査ログ

データを Cosmos にアップロードする前に、ODL アプリケーションはスクラブサービスを使用して、テナント情報やエンドユーザー識別情報などの顧客データを含むフィールドを難読化し、それらのフィールドをハッシュ値で置換します。匿名化とハッシュ化されたログが書き直され、Cosmos にアップロードされます。サービスチームは、Cosmos 内のデータに対してスコープ指定クエリを実行して、関連付け、警告、およびレポートを作成します。Cosmos での監査ログデータの保持期間は、サービスチームによって決定されます。ほとんどの監査ログデータは、セキュリティインシデント調査のサポートおよび規制保持要件への対応のために、90日間またはそれ以上保持されます。

Cosmos に格納されている Office 365 データへのアクセスは、権限のある人物に制限されます。Microsoft は、監査機能の管理を、監査機能を担当するサービスチームメンバーの制限されたサブセットに制限します。これらのチームメンバーは、Cosmos のデータを変更または削除することはできません。また、Cosmos のログメカニズムに加えられたすべての変更は記録および監査されます。

各サービスチームは、特定のアプリケーションが特定の分析を実行することを承認することによって、分析用のログデータにアクセスします。たとえば、office 365 セキュリティチームは、独自のイベントログパーサーを使用して Cosmos のデータを使用して、office 365 運用環境で疑わしい可能性のあるアクティビティに関する操作可能なレポートを関連付け、警告、および生成します。このデータからのレポートは、脆弱性を修正し、サービスの全体的なパフォーマンスを向上させるために使用されます。特定の警告またはレポートでさらに調査が必要な場合、サービス担当者は、そのデータを Office 365 サービスにインポートし直すように要求できます。Cosmos からインポートされる特定のログは暗号化されており、サービス担当者は復号化キーにアクセスできないため、対象のログは、スコープが設定された結果を承認済みのサービス担当者に返す復号化サービスを介してプログラムによって渡されます。この課題から見つかった脆弱性は、Microsoft の標準セキュリティインシデント管理チャネルを使用して報告およびエスカレートされます。
