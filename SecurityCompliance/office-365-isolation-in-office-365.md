---
title: Office 365 の分離と Office 365 でのアクセス制御
ms.author: robmazz
author: robmazz
manager: laurawi
ms.date: 8/21/2018
audience: ITPro
ms.topic: article
ms.service: Office 365 Administration
localization_priority: None
search.appverid:
- MET150
ms.collection: Strat_O365_Enterprise
description: '概要: Office 365 のさまざまなアプリケーション内で独立性とアクセス ・ コントロールの説明。'
ms.openlocfilehash: c1989bc546df357740ea963a1a241dfa14557931
ms.sourcegitcommit: 36c5466056cdef6ad2a8d9372f2bc009a30892bb
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/27/2018
ms.locfileid: "22532701"
---
# <a name="isolation-and-access-control-in-office-365"></a>Office 365 での分離とアクセス制御

Azure Active Directory と Office 365 サービスでは、数百のエンティティの数十が含まれる非常に複雑なデータ モデルを使用して、リレーションシップ、および属性の数万の数千 (エンティティ、リレーションシップ、および属性は、多くの場合アプリケーション固有)。高レベルは、Azure Active Directory とのディレクトリ サービスは、テナントと受信者のコンテナーとの同期の状態ベースのレプリケーション プロトコルを使用して保持されています。Azure Active Directory 内で保持されているディレクトリ情報の他の各サービスもある (例えば、オンラインの Exchange ディレクトリ サービス、SharePoint のオンライン ディレクトリ サービスなど) が独自のディレクトリ サービス インフラストラクチャ 
 
![Office 365 テナント データの同期](media/office-365-isolation-tenant-data-sync.png)

このモデル内では、ディレクトリ データの 1 つのソースはありません。特定のシステムでは、すべて個別のデータが所有しているが、1 つのシステムには、すべてのデータは保持されません。Office 365 サービスは、データ モデルを実現する Active Directory を Azure と連動します。Azure Active Directory は、共有データは、通常、静的データのすべてのサービスによって頻繁に使用されるは「本当のシステム」です。Office 365 と Azure Active Directory 内で使用するフェデレーション モデルは、データの共有ビューを提供します。

Office 365 では、物理ストレージと Azure クラウド ストレージの両方を使用します。Exchange オンライン (Exchange のオンライン保護を含む) であり、ビジネス用の Skype は、お客様のデータの独自のストレージを使用します。SharePoint Online は、SQL Server のストレージと Azure のストレージ、ストレージ ・ レベルでの顧客データの追加の分離の必要性を利用しています。

## <a name="exchange-online"></a>Exchange Online
オンラインの Exchange メールボックス データベースの Extensible Storage Engine (ESE) データベース内でホストされているメールボックス内の顧客データを格納します。これには、ユーザーのメールボックス、リンクされたメールボックス、共有メールボックスおよびパブリック フォルダーのメールボックスが含まれます。ユーザーのメールボックスでは、会話の履歴などのビジネス ・ コンテンツの保存されている Skype を含めることもできます。ユーザーのメールボックスの内容には、電子メールおよび電子メールの添付ファイル、予定表データや空き時間情報、連絡先、タスク、メモ、グループ、および推論データが含まれています。

Exchange Online 内の各メールボックス データベースには、複数のテナントからのメールボックスが含まれています。テナント内を含む、認証コードをすべてのメールボックスをセキュリティで保護されています。として設置型の Exchange の導入に既定で割り当てられたユーザーのみがアクセスのメールボックスにします。メールボックスをセキュリティで保護するアクセス制御リスト (ACL) には、テナントのレベルでの Azure Active Directory によって認証された id が含まれています。特定のテナントのメールボックスは、テナントのユーザーだけが含まれて、そのテナントの認証プロバイダーに対して認証ユーザーに制限されます。TenantA に属するコンテンツ何らかの方法で取得できません TenantB、内のユーザーが TenantA で明示的に承認されていない限り。

## <a name="skype-for-business"></a>Skype for Business
ビジネス用の Skype は、さまざまな場所にデータを格納します。
- ユーザーとについては、テナント Id、接続のエンドポイントが含まれていますが、ダイヤルの計画、設定、状態は、連絡先リストなどのローミング アカウントが格納されているビジネスの Active Directory サーバーでは、Skype とビジネス データベースのさまざまな Skypeサーバーです。連絡先リストは、ユーザーが有効な場合の両方の製品、または Skype のビジネス サーバーのユーザー名がない場合、ユーザーの Exchange Online のメールボックスに格納されます。Skype ビジネス データベース ・ サーバではパーティション分割されたテナントごとではありませんが、RBAC を使用データのマルチ テナント機能の分離が適用されます。
- コンテンツのユーザーは、会議の Skype 中にアップロードするなど、ミーティングのコンテンツは、分散ファイル システム共有に格納されます。このコンテンツはアーカイブが有効になっていれば、Exchange Online のアーカイブも。DFS 共有は、テナントごとの分割ではないですが、Acl を使用してコンテンツを保護し、RBAC を使用、マルチ テナント機能を適用します。
- 呼び出しの詳細レコード、活動履歴、通話履歴、IM セッション、アプリケーション共有、IM の履歴など、あるは、Exchange online では、保存することもですが、ほとんどの呼び出しの詳細レコードは、通話詳細記録 (CDR) のサーバーに一時的に格納します。コンテンツが、テナントごとに分割されていますが、RBAC を使用、マルチ テナント機能が適用されます。

## <a name="sharepoint-online"></a>SharePoint Online
SharePoint Online にデータの分離を提供する一意なはいくつかの独立したメカニズムがあります。SharePoint Online は、アプリケーション データベースの抽象化されたコードとオブジェクトを格納します。などの SharePoint Online にファイルをアップロードすると、そのファイルは分解し、アプリケーション コードに変換し、複数のデータベース間で複数のテーブルに格納されています。

ユーザーがデータを格納している記憶域への直接アクセスを取得する場合、コンテンツは人間または SharePoint Online 以外のシステムを正しく解釈できません。これらのメカニズムには、セキュリティのアクセス制御およびプロパティが含まれます。前述したように、SharePoint Online のすべてのリソースは、認証コードと、テナント内を含め、RBAC のポリシーによって保護されています。リソースをセキュリティで保護するアクセス制御リスト (ACL) には、テナントのレベルで認証された id が含まれています。同様に Exchange でオンラインに、SharePoint Online は、特定のテナントのデータは、テナントのユーザーだけが含まれて、そのテナントの認証プロバイダーに対して認証ユーザーに制限されます。

だけでなく、Acl は、(ある特定のテナントの Azure Active Directory)、認証プロバイダーを指定するテナント レベルのプロパティは、1 回だけ書き込まれ、一度設定を変更することはできません。テナントの認証プロバイダーのテナントのプロパティを設定すると、テナントに公開されているすべての Api に変更できません。

固有の*サブスクリプション Id*は、各テナントに対しても使用されます。顧客のすべてのサイトでは、テナントが所有し、テナントには、*サブスクリプション Id*固有を割り当てられました。サイトの*サブスクリプション Id*プロパティでは、1 回書き込まれ、変更することはできません。サイトがテナントに割り当てられた後は、コンテンツ ストア API を使用して後で別のテナントに移動できません。*サブスクリプション Id*が認証プロバイダーのセキュリティ スコープを作成するために使用し、テナントに関連付けられているキーもあります。

SharePoint Online のコンテンツを格納するため、SQL Server と Azure のストレージを使用します。SQL レベルでは、*サイト Id*はコンテンツ ・ ストアのパーティション キーです。SQL クエリを実行すると、SharePoint Online を使用が確認された*サイト Id*テナント レベルの*サブスクリプション Id*チェックの一環として。

SharePoint Online は、Microsoft Azure でファイルのバイナリ blob (ファイル ストリームなど) を格納します。各 SharePoint Online のファームには、Microsoft Azure アカウントと、Azure に保存されているすべての blob が、SQL コンテンツ ストアに格納されているキーを使用して個別に暗号化されます。暗号化キーは、エンド ・ ユーザーに直接公開されないと承認レイヤーによってコード内で保護されています。最後に、SharePoint Online は、読み取りまたは書き込みの 1 つ以上のテナントのデータが HTTP 要求を検出するための場所でリアルタイムに監視します。この機能を使用するには、アクセス対象のリソースの*サブスクリプション Id*に対して要求 id の*サブスクリプション Id*を追跡します。複数のテナントのリソースへのアクセス要求は、エンド ・ ユーザーによって得ない。発生することが、マルチ テナント環境でのサービス ・ リクエストのも。たとえば、検索クローラーはデータベース全体の内容の変更をすべてを一度に取得します。通常は、効率上の理由から行われますが、1 つのサービスの要求で複数のテナントのサイトを照会します。
